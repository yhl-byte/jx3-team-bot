import asyncio
import random
import time
from datetime import datetime, timedelta
from enum import Enum
from typing import Dict, List, Optional, Set
from dataclasses import dataclass, field

from nonebot import on_regex, on_command, on_message
from nonebot.adapters.onebot.v11 import Bot, Event, GroupMessageEvent, PrivateMessageEvent
from nonebot.adapters.onebot.v11.message import Message
from nonebot.matcher import Matcher
from nonebot.params import RegexGroup
from nonebot.rule import to_me

# æ¸¸æˆçŠ¶æ€æšä¸¾
class GameState(Enum):
    IDLE = "idle"  # ç©ºé—²çŠ¶æ€
    REGISTERING = "registering"  # æŠ¥åé˜¶æ®µ
    SELECTING_HOST = "selecting_host"  # é€‰æ‹©ä¸»æŒäººé˜¶æ®µ
    TOPIC_CONFIRMATION = "topic_confirmation"  # ç¡®è®¤é¢˜ç›®é˜¶æ®µ
    PLAYING = "playing"  # æ¸¸æˆè¿›è¡Œä¸­
    FINISHED = "finished"  # æ¸¸æˆç»“æŸ

# ç©å®¶æ•°æ®ç»“æ„
@dataclass
class Player:
    user_id: str
    nickname: str
    score: int = 0
    questions_asked: int = 0
    is_host: bool = False
    join_time: float = field(default_factory=time.time)

# é¢˜ç›®æ•°æ®ç»“æ„
@dataclass
class Story:
    title: str
    description: str
    truth: str
    keywords: List[str]
    difficulty: int = 1
    category: str = "æ¨ç†"

# æ¸¸æˆå®ä¾‹
@dataclass
class TurtleSoupGame:
    group_id: str
    state: GameState = GameState.IDLE
    players: Dict[str, Player] = field(default_factory=dict)
    host_candidates: Set[str] = field(default_factory=set)
    current_story: Optional[Story] = None
    host_id: Optional[str] = None
    start_time: Optional[float] = None
    game_start_time: Optional[float] = None
    host_hints_used: int = 0
    max_hints: int = 3
    host_base_score: int = 20
    hint_penalty: int = 5
    max_player_score: int = 10
    registration_end_time: Optional[float] = None
    host_selection_end_time: Optional[float] = None
    topic_confirmation_end_time: Optional[float] = None
    
    def reset(self):
        """é‡ç½®æ¸¸æˆçŠ¶æ€"""
        self.state = GameState.IDLE
        self.players.clear()
        self.host_candidates.clear()
        self.current_story = None
        self.host_id = None
        self.start_time = None
        self.game_start_time = None
        self.host_hints_used = 0
        self.registration_end_time = None
        self.host_selection_end_time = None
        self.topic_confirmation_end_time = None

# å…¨å±€æ¸¸æˆå®ä¾‹å­˜å‚¨
games: Dict[str, TurtleSoupGame] = {}

# æµ·é¾Ÿæ±¤é¢˜åº“
STORIES = [
    Story(
        title="ç”µæ¢¯æƒŠé­‚",
        description="ä¸€ä¸ªç”·äººä½åœ¨20æ¥¼ï¼Œæ¯å¤©ä¸Šç­æ—¶éƒ½åç”µæ¢¯åˆ°1æ¥¼ï¼Œä¸‹ç­å›æ¥æ—¶åç”µæ¢¯åˆ°10æ¥¼ç„¶åèµ°æ¥¼æ¢¯å›å®¶ã€‚ä½†æ˜¯é›¨å¤©æ—¶ï¼Œä»–ä¼šç›´æ¥åç”µæ¢¯åˆ°20æ¥¼ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºè¿™ä¸ªç”·äººæ˜¯ä¾å„’ï¼Œå¤Ÿä¸åˆ°20æ¥¼çš„æŒ‰é’®ï¼Œåªèƒ½æŒ‰åˆ°10æ¥¼çš„æŒ‰é’®ã€‚é›¨å¤©æ—¶ä»–æœ‰é›¨ä¼ï¼Œå¯ä»¥ç”¨é›¨ä¼æŒ‰åˆ°20æ¥¼çš„æŒ‰é’®ã€‚",
        keywords=["ä¾å„’", "çŸ®", "èº«é«˜", "æŒ‰é’®", "å¤Ÿä¸åˆ°", "é›¨ä¼", "å·¥å…·"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="åŠå¤œæ•²é—¨",
        description="ä¸€ä¸ªå¥³äººåŠå¤œå¬åˆ°æ•²é—¨å£°ï¼Œé€è¿‡çŒ«çœ¼çœ‹åˆ°ä¸€ä¸ªç”·äººè¯´ï¼š'å¯¹ä¸èµ·ï¼Œæˆ‘èµ°é”™äº†ã€‚'å¥³äººç«‹åˆ»æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºå¦‚æœçœŸçš„èµ°é”™äº†ï¼Œé‚£ä¸ªç”·äººåº”è¯¥æ˜¯èƒŒå¯¹ç€é—¨ç¦»å¼€çš„ï¼Œè€Œä¸æ˜¯é¢å¯¹ç€é—¨è¯´è¯ã€‚é¢å¯¹ç€é—¨è¯´è¯è¯´æ˜ä»–çŸ¥é“é‡Œé¢æœ‰äººï¼Œå¾ˆå¯èƒ½æ˜¯æƒ³éª—å¼€é—¨ã€‚",
        keywords=["èƒŒå¯¹", "é¢å¯¹", "é—¨", "æ–¹å‘", "éª—", "èµ°é”™", "çŒ«çœ¼"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="è‰åœ°ä¸Šçš„å°¸ä½“",
        description="åœ¨ä¸€ç‰‡è‰åœ°ä¸­å¤®å‘ç°äº†ä¸€å…·ç”·å°¸ï¼Œæ­»è€…èº«è¾¹æ²¡æœ‰ä»»ä½•å‡¶å™¨ï¼Œä½†èº«ä¸Šæœ‰ä¸€ä¸ªåŒ…ã€‚è­¦å¯Ÿåˆ¤æ–­è¿™æ˜¯è‡ªæ€ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="æ­»è€…æ˜¯è·³ä¼æ—¶é™è½ä¼æ²¡æœ‰æ‰“å¼€æ‘”æ­»çš„ï¼ŒåŒ…é‡Œè£…çš„æ˜¯æ²¡æœ‰æ‰“å¼€çš„é™è½ä¼ã€‚",
        keywords=["è·³ä¼", "é™è½ä¼", "æ²¡æ‰“å¼€", "æ‘”æ­»", "é«˜ç©º", "åŒ…"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="æ°´ä¸­çš„å¥³äºº",
        description="ä¸€ä¸ªå¥³äººåœ¨æ°´ä¸­æ­»äº¡ï¼Œèº«è¾¹æœ‰å¾ˆå¤šç¢ç»ç’ƒï¼Œä½†å¥¹ä¸æ˜¯è¢«ç»ç’ƒå‰²æ­»çš„ï¼Œä¹Ÿä¸æ˜¯æººæ°´è€Œæ­»ã€‚å¥¹æ˜¯æ€ä¹ˆæ­»çš„ï¼Ÿ",
        truth="å¥³äººæ˜¯åœ¨é±¼ç¼¸é‡Œçš„é‡‘é±¼ï¼Œé±¼ç¼¸è¢«æ‰“ç ´äº†ï¼Œé‡‘é±¼ç¼ºæ°´è€Œæ­»ã€‚",
        keywords=["é‡‘é±¼", "é±¼ç¼¸", "ç¼ºæ°´", "æ‰“ç ´", "åŠ¨ç‰©", "å® ç‰©"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="æ»¡èº«æ˜¯è¡€çš„ç”·äºº",
        description="ä¸€ä¸ªç”·äººæ»¡èº«æ˜¯è¡€åœ°ä»æˆ¿é—´é‡Œèµ°å‡ºæ¥ï¼Œä½†ä»–æ²¡æœ‰å—ä¼¤ï¼Œæˆ¿é—´é‡Œä¹Ÿæ²¡æœ‰å…¶ä»–äººã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ",
        truth="è¿™ä¸ªç”·äººæ˜¯åŒ»ç”Ÿæˆ–å…½åŒ»ï¼Œåˆšåˆšå®Œæˆäº†ä¸€å°æ‰‹æœ¯ã€‚",
        keywords=["åŒ»ç”Ÿ", "å…½åŒ»", "æ‰‹æœ¯", "è¡€", "å·¥ä½œ", "èŒä¸š"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="ç»¿è¡£æœçš„ç”·äºº",
        description="ä¸€ä¸ªç©¿ç»¿è¡£æœçš„ç”·äººèµ°è¿›å’–å•¡å…ï¼Œç‚¹äº†ä¸€æ¯å’–å•¡ã€‚å–äº†ä¸€å£åç«‹åˆ»æ­»äº†ã€‚å’–å•¡æ²¡æœ‰æ¯’ï¼Œä»–ä¹Ÿæ²¡æœ‰è¿‡æ•ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™ä¸ªç”·äººæ˜¯è‰²ç›²ï¼Œåˆ†ä¸æ¸…çº¢ç»¿ç¯ï¼Œç©¿ç»¿è¡£æœæ˜¯ä¸ºäº†è®©åˆ«äººæé†’ä»–ã€‚ä½†åœ¨å’–å•¡å…é‡Œæ²¡äººæé†’ï¼Œä»–æ„è¯†åˆ°è‡ªå·±é—¯äº†çº¢ç¯ï¼Œå¿ƒè„ç—…å‘ä½œè€Œæ­»ã€‚",
        keywords=["è‰²ç›²", "çº¢ç»¿ç¯", "å¿ƒè„ç—…", "é—¯çº¢ç¯", "æé†’", "ç»¿è¡£æœ"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="é•œå­é‡Œçš„ç”·äºº",
        description="ä¸€ä¸ªç”·äººæ¯å¤©æ—©ä¸Šéƒ½è¦ç…§é•œå­ï¼Œä½†æœ‰ä¸€å¤©ä»–ç…§é•œå­æ—¶å“æ­»äº†ã€‚é•œå­æ²¡æœ‰åï¼Œä»–çš„æ ·å­ä¹Ÿæ²¡æœ‰å˜åŒ–ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™ä¸ªç”·äººæ˜¯å¸è¡€é¬¼ï¼Œé•œå­é‡Œçœ‹ä¸åˆ°è‡ªå·±çš„å½±åƒã€‚é‚£å¤©ä»–å¿˜è®°äº†è‡ªå·±æ˜¯å¸è¡€é¬¼ï¼Œçœ‹åˆ°é•œå­é‡Œæ²¡æœ‰è‡ªå·±è¢«å“æ­»äº†ã€‚",
        keywords=["å¸è¡€é¬¼", "å½±åƒ", "åå°„", "å¿˜è®°", "èº«ä»½", "è¶…è‡ªç„¶"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="ç”µè¯äº­é‡Œçš„æ­»äºº",
        description="ä¸€ä¸ªç”·äººåœ¨ç”µè¯äº­é‡Œè¢«å‘ç°æ­»äº¡ï¼Œç”µè¯äº­çš„ç»ç’ƒå…¨éƒ¨ç ´ç¢ï¼Œåœ°ä¸Šæœ‰å¾ˆå¤šæ°´ã€‚ä»–ä¸æ˜¯è¢«ç»ç’ƒå‰²æ­»çš„ï¼Œä¹Ÿä¸æ˜¯æººæ°´ã€‚æ€ä¹ˆæ­»çš„ï¼Ÿ",
        truth="ç”µè¯äº­åœ¨æµ·è¾¹ï¼Œæ¶¨æ½®æ—¶æµ·æ°´æ·¹æ²¡äº†ç”µè¯äº­ï¼Œç”·äººè¢«å›°åœ¨é‡Œé¢ï¼Œå› ä¸ºæ°´å‹å¤ªå¤§æ— æ³•æ¨å¼€é—¨ï¼Œæœ€åçª’æ¯è€Œæ­»ã€‚",
        keywords=["æµ·è¾¹", "æ¶¨æ½®", "æµ·æ°´", "æ°´å‹", "çª’æ¯", "å›°ä½", "æ¨ä¸å¼€"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="é¤å…æ‚²å‰§",
        description="ä¸€ä¸ªç”·äººåœ¨é¤å…ç‚¹äº†æµ·é¸¥è‚‰ï¼Œåƒäº†ä¸€å£å°±å“­äº†ï¼Œç„¶åè‡ªæ€äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™ä¸ªç”·äººæ›¾ç»åœ¨æµ·ä¸Šé‡éš¾ï¼ŒåŒä¼´å‘Šè¯‰ä»–åƒçš„æ˜¯æµ·é¸¥è‚‰æ‰æ´»ä¸‹æ¥ã€‚ç°åœ¨ä»–å‘ç°çœŸæ­£çš„æµ·é¸¥è‚‰å‘³é“ä¸æ˜¯è¿™æ ·çš„ï¼Œæ„è¯†åˆ°å½“æ—¶åƒçš„æ˜¯åŒä¼´çš„è‚‰ã€‚",
        keywords=["æµ·éš¾", "åŒä¼´", "äººè‚‰", "æ¬ºéª—", "çœŸç›¸"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="é›¨å¤œå½’äºº1",
        description="ä¸€ä¸ªç”·äººé›¨å¤œå¼€è½¦å›å®¶ï¼Œçœ‹åˆ°è·¯è¾¹æœ‰ä¸‰ä¸ªäººåœ¨ç­‰è½¦ï¼šä¸€ä¸ªæ˜¯å¿«æ­»çš„è€äººï¼Œä¸€ä¸ªæ˜¯æ•‘è¿‡ä»–å‘½çš„åŒ»ç”Ÿï¼Œä¸€ä¸ªæ˜¯ä»–çš„æ¢¦ä¸­æƒ…äººã€‚è½¦åªèƒ½åä¸€ä¸ªäººï¼Œä»–åº”è¯¥è½½è°ï¼Ÿ",
        truth="ä»–æŠŠè½¦é’¥åŒ™ç»™åŒ»ç”Ÿï¼Œè®©åŒ»ç”Ÿè½½è€äººå»åŒ»é™¢ï¼Œè‡ªå·±é™ªæ¢¦ä¸­æƒ…äººç­‰ä¸‹ä¸€ç­è½¦ã€‚",
        keywords=["è½¦é’¥åŒ™", "åŒ»ç”Ÿ", "è€äºº", "åŒ»é™¢", "é™ªä¼´"],
        difficulty=3,
        category="æ™ºåŠ›"
    ),
    Story(
        title="é›¨å¤œå½’äºº2",
        description="ä¸€ä¸ªå¥³äººé›¨å¤œå›å®¶ï¼Œå‘ç°é—¨å£æœ‰ä¸€åŒæ¹¿é‹ã€‚å¥¹ç«‹åˆ»æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºå¥¹ç‹¬å±…ï¼Œè€Œä¸”åˆšä»å¤–é¢å›æ¥ï¼Œé—¨å£ä¸åº”è¯¥æœ‰å…¶ä»–äººçš„é‹å­ï¼Œè¯´æ˜æœ‰äººè¿›å…¥äº†å¥¹çš„å®¶ã€‚",
        keywords=["ç‹¬å±…", "æ¹¿é‹", "å…¥ä¾µ", "å±é™©", "é™Œç”Ÿäºº"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="æ²™æ¼ æ­»äº¡",
        description="ä¸€ä¸ªç”·äººåœ¨æ²™æ¼ ä¸­æ­»å»ï¼Œèº«ä½“æœ‰ä¸€ä¸ªåŒ…è£¹ï¼ŒåŒ…è£¹æ²¡æœ‰æ‰“å¼€ã€‚æ•‘æ´é˜Ÿå‘ç°ä»–æ—¶ï¼Œå‘ç°å¦‚æœä»–æ‰“å¼€åŒ…è£¹ï¼Œå°±ä¸ä¼šæ­»ã€‚åŒ…è£¹é‡Œæ˜¯ä»€ä¹ˆï¼Ÿ",
        truth="åŒ…è£¹é‡Œæ˜¯é™è½ä¼ã€‚è¿™ä¸ªç”·äººæ˜¯è·³ä¼æ—¶é™è½ä¼æ²¡æœ‰æ‰“å¼€è€Œæ‘”æ­»çš„ï¼Œä¸æ˜¯åœ¨æ²™æ¼ ä¸­æ¸´æ­»çš„ã€‚",
        keywords=["é™è½ä¼", "è·³ä¼", "æ‘”æ­»", "æ²¡æ‰“å¼€"],
        difficulty=2,
        category="ç»å…¸"
    ),
    Story(
        title="é•œå­ä¹‹è°œ",
        description="ä¸€ä¸ªå¥³äººæ¯å¤©æ—©ä¸Šç…§é•œå­éƒ½ä¼šå“­ï¼Œä½†å¥¹çš„å®¹è²Œå¾ˆç¾ä¸½ï¼Œèº«ä½“ä¹Ÿå¾ˆå¥åº·ã€‚ä¸ºä»€ä¹ˆå¥¹ä¼šå“­ï¼Ÿ",
        truth="å› ä¸ºå¥¹æ˜¯ç›²äººï¼Œæ¯å¤©ç…§é•œå­æ˜¯ä¸ºäº†ç¡®è®¤è‡ªå·±è¿˜æ´»ç€ï¼Œä½†å¥¹æ°¸è¿œçœ‹ä¸åˆ°è‡ªå·±çš„æ ·å­ï¼Œæ‰€ä»¥ä¼šå“­ã€‚",
        keywords=["ç›²äºº", "çœ‹ä¸åˆ°", "ç¡®è®¤", "æ´»ç€", "æ°¸è¿œ"],
        difficulty=3,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="å®Œç¾çš„çŠ¯ç½ª",
        description="ä¸€ä¸ªç”·äººæ€æ­»äº†ä»–çš„å¦»å­ï¼Œè­¦å¯Ÿæ¥è°ƒæŸ¥æ—¶ï¼Œä»–æ­£åœ¨åšé¥­ã€‚è­¦å¯Ÿæ²¡æœ‰å‘ç°ä»»ä½•è¯æ®ï¼Œä½†è¿˜æ˜¯é€®æ•äº†ä»–ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–åœ¨åšé¥­æ—¶ç”¨çš„æ˜¯å¦»å­çš„è‚‰ã€‚è­¦å¯Ÿå‘ç°ä»–åšçš„èœé‡Œæœ‰äººè‚‰ã€‚",
        keywords=["äººè‚‰", "åšé¥­", "å¦»å­", "è¯æ®", "å‘ç°"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="æ—¶é—´åœæ­¢",
        description="ä¸€ä¸ªç”·äººçœ‹äº†ä¸€çœ¼æ‰‹è¡¨åå°±æ­»äº†ï¼Œä½†æ‰‹è¡¨æ²¡æœ‰ä»»ä½•æ¯’æ€§æˆ–å±é™©ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯æ½œæ°´å‘˜ï¼Œçœ‹æ‰‹è¡¨å‘ç°æ°§æ°”å³å°†è€—å°½ï¼Œä½†å·²ç»æ¥ä¸åŠä¸Šæµ®ï¼Œæœ€ç»ˆçª’æ¯è€Œæ­»ã€‚",
        keywords=["æ½œæ°´å‘˜", "æ°§æ°”", "è€—å°½", "ä¸Šæµ®", "çª’æ¯"],
        difficulty=3,
        category="æ‚¬ç–‘"
    ),
    Story(
        title="æ— å£°çš„å‘¼æ•‘1",
        description="ä¸€ä¸ªå¥³äººåœ¨ç”µè¯é‡Œè¯´'æˆ‘å¾ˆå¥½ï¼Œä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸'ï¼Œä½†æ¥ç”µè¯çš„äººç«‹å³æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºè¿™ä¸ªå¥³äººæ˜¯å“‘å·´ï¼Œå¥¹ä¸å¯èƒ½è¯´è¯ã€‚æœ‰äººåœ¨å¨èƒå¥¹ï¼Œå¼ºè¿«å¥¹è¯´è¿™äº›è¯ã€‚",
        keywords=["å“‘å·´", "ä¸èƒ½è¯´è¯", "å¨èƒ", "å¼ºè¿«", "å±é™©"],
        difficulty=2,
        category="æ‚¬ç–‘"
    ),
    Story(
        title="æ— å£°çš„å‘¼æ•‘2",
        description="ä¸€ä¸ªå“‘å·´åœ¨ç«ç¾ä¸­è¢«å›°ï¼Œä½†ä»–æ²¡æœ‰å‘¼æ•‘ï¼Œæœ€åè¢«æ•‘å‡ºæ—¶å·²ç»æ­»äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="ä»–ä¸æ˜¯è¢«ç«çƒ§æ­»çš„ï¼Œè€Œæ˜¯è¢«æµ“çƒŸçª’æ¯è€Œæ­»ã€‚å“‘å·´æ— æ³•å‘¼æ•‘ï¼Œä½†å¯ä»¥æ•²å‡»æ±‚æ•‘ï¼Œä»–æ²¡æœ‰è¿™æ ·åšæ˜¯å› ä¸ºå·²ç»æ˜è¿·äº†ã€‚",
        keywords=["å“‘å·´", "ç«ç¾", "çª’æ¯", "æµ“çƒŸ", "æ˜è¿·"],
        difficulty=2,
        category="æ¨ç†"
    ),
    Story(
        title="æœ€åçš„æ™šé¤",
        description="ä¸€ä¸ªç”·äººåœ¨é¤å…åƒå®Œæœ€åä¸€å£é¥­åå°±æ­»äº†ï¼Œä½†é£Ÿç‰©æ²¡æœ‰æ¯’ï¼Œä»–ä¹Ÿæ²¡æœ‰å™åˆ°ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯æ­»åˆ‘çŠ¯ï¼Œè¿™æ˜¯ä»–çš„æœ€åä¸€é¤ã€‚åƒå®Œåå°±è¢«æ‰§è¡Œæ­»åˆ‘äº†ã€‚",
        keywords=["æ­»åˆ‘çŠ¯", "æœ€åä¸€é¤", "æ‰§è¡Œ", "æ­»åˆ‘", "ç›‘ç‹±"],
        difficulty=2,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="é»‘æš—ä¸­çš„çœŸç›¸",
        description="ä¸€ä¸ªç”·äººåœ¨å®Œå…¨é»‘æš—çš„æˆ¿é—´é‡Œï¼Œæ²¡æœ‰ä»»ä½•å…‰æºï¼Œä½†ä»–çŸ¥é“æˆ¿é—´é‡Œæœ‰ä¸€ä¸ªæ­»äººã€‚ä»–æ˜¯æ€ä¹ˆçŸ¥é“çš„ï¼Ÿ",
        truth="å› ä¸ºä»–é—»åˆ°äº†å°¸ä½“è…çƒ‚çš„å‘³é“ã€‚",
        keywords=["å°¸ä½“", "è…çƒ‚", "å‘³é“", "å—…è§‰", "æ­»äº¡"],
        difficulty=1,
        category="ç®€å•"
    ),
    Story(
        title="ç”Ÿæ—¥ç¤¼ç‰©",
        description="ä¸€ä¸ªå¥³å­©æ”¶åˆ°ç”Ÿæ—¥ç¤¼ç‰©åç«‹å³è‡ªæ€äº†ï¼Œç¤¼ç‰©æ˜¯ä¸€ä¸ªå¾ˆæ™®é€šçš„éŸ³ä¹ç›’ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºéŸ³ä¹ç›’æ’­æ”¾çš„æ˜¯å¥¹æ­»å»æ¯äº²æœ€å–œæ¬¢çš„æ­Œï¼Œè¿™è®©å¥¹æƒ³èµ·äº†ç—›è‹¦å›å¿†ï¼Œæ— æ³•æ‰¿å—è€Œè‡ªæ€ã€‚",
        keywords=["éŸ³ä¹ç›’", "æ¯äº²", "æ­»å»", "å›å¿†", "ç—›è‹¦"],
        difficulty=3,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="é›ªå¤œè¿½è¸ª",
        description="è­¦å¯Ÿåœ¨é›ªåœ°é‡Œè¿½è¸ªä¸€ä¸ªç½ªçŠ¯ï¼Œå‘ç°è„šå°çªç„¶æ¶ˆå¤±äº†ï¼Œä½†å‘¨å›´æ²¡æœ‰ä»»ä½•å¯ä»¥éšè—çš„åœ°æ–¹ã€‚ç½ªçŠ¯å»å“ªäº†ï¼Ÿ",
        truth="ç½ªçŠ¯å€’ç€èµ°ï¼Œè„šå°çœ‹èµ·æ¥åƒæ˜¯æœç›¸åæ–¹å‘çš„ï¼Œè­¦å¯Ÿè¿½é”™äº†æ–¹å‘ã€‚",
        keywords=["å€’ç€èµ°", "è„šå°", "ç›¸å", "æ–¹å‘", "æ¬ºéª—"],
        difficulty=2,
        category="æ™ºåŠ›"
    ),
    Story(
        title="æ— å¤´éª‘å£«",
        description="ä¸€ä¸ªéª‘å£«éª‘é©¬ç»è¿‡ä¸€åº§æ¡¥ï¼Œæ¡¥çš„å¦ä¸€ç«¯æœ‰äººçœ‹åˆ°ä»–æ²¡æœ‰å¤´ã€‚ä½†éª‘å£«æœ¬äººå¹¶æ²¡æœ‰æ­»ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ",
        truth="å› ä¸ºæ¡¥å¾ˆä½ï¼Œéª‘å£«ä¸ºäº†é€šè¿‡æ¡¥è€Œä½å¤´ï¼Œä»å¦ä¸€ç«¯çœ‹èµ·æ¥å°±åƒæ²¡æœ‰å¤´ä¸€æ ·ã€‚",
        keywords=["ä½å¤´", "æ¡¥", "å¾ˆä½", "é€šè¿‡", "è§†è§‰"],
        difficulty=2,
        category="æ™ºåŠ›"
    ),
    Story(
        title="åŒ»ç”Ÿçš„è¯Šæ–­",
        description="ä¸€ä¸ªåŒ»ç”Ÿçœ‹äº†ç—…äººä¸€çœ¼å°±è¯´ä»–ä¼šåœ¨åˆå¤œæ­»å»ï¼Œç»“æœçœŸçš„åº”éªŒäº†ã€‚åŒ»ç”Ÿæ˜¯æ€ä¹ˆçŸ¥é“çš„ï¼Ÿ",
        truth="å› ä¸ºç—…äººæ˜¯åŒ»ç”Ÿçš„ä»‡äººï¼ŒåŒ»ç”Ÿè®¡åˆ’åœ¨åˆå¤œæ€æ­»ä»–ã€‚",
        keywords=["ä»‡äºº", "è®¡åˆ’", "æ€æ­»", "é¢„è°‹", "æŠ¥å¤"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="æ¶ˆå¤±çš„æ–°å¨˜",
        description="ä¸€ä¸ªæ–°å¨˜åœ¨å©šç¤¼å½“å¤©æ¶ˆå¤±äº†ï¼Œä¸€å¹´ååœ¨å¥¹çš„å©šçº±é‡Œå‘ç°äº†å¥¹çš„å°¸ä½“ã€‚å¥¹æ˜¯æ€ä¹ˆæ­»çš„ï¼Ÿ",
        truth="å¥¹åœ¨ç©æ‰è¿·è—æ—¶èº²è¿›äº†ä¸€ä¸ªå¤è€çš„ç®±å­é‡Œï¼Œç®±å­è‡ªåŠ¨é”ä¸Šäº†ï¼Œå¥¹è¢«å›°æ­»åœ¨é‡Œé¢ã€‚",
        keywords=["æ‰è¿·è—", "ç®±å­", "é”ä¸Š", "å›°æ­»", "çª’æ¯"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="ç”»å®¶çš„æ°ä½œ",
        description="ä¸€ä¸ªç”»å®¶ç”»äº†ä¸€å¹…è‡ªç”»åƒï¼Œç”»å®Œåå°±è‡ªæ€äº†ã€‚ä½†è¿™å¹…ç”»çœ‹èµ·æ¥å¾ˆæ™®é€šï¼Œæ²¡æœ‰ä»»ä½•ç‰¹æ®Šä¹‹å¤„ã€‚ä¸ºä»€ä¹ˆä»–è¦è‡ªæ€ï¼Ÿ",
        truth="å› ä¸ºç”»å®¶æ˜¯ç›²äººï¼Œä»–ç”»çš„è‡ªç”»åƒå…¶å®æ˜¯ä¸€ç‰‡ç©ºç™½ï¼Œè¿™è®©ä»–æ„è¯†åˆ°è‡ªå·±æ°¸è¿œæ— æ³•çœ‹åˆ°è‡ªå·±çš„ä½œå“ã€‚",
        keywords=["ç›²äºº", "ç©ºç™½", "çœ‹ä¸åˆ°", "ä½œå“", "ç»æœ›"],
        difficulty=4,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="æ·±å¤œæ¥ç”µ",
        description="ä¸€ä¸ªç”·äººæ·±å¤œæ¥åˆ°ç”µè¯ï¼Œå¯¹æ–¹ä»€ä¹ˆéƒ½æ²¡è¯´å°±æŒ‚äº†ã€‚ç¬¬äºŒå¤©ä»–å°±æ­»äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯ç›²äººï¼Œé å¬å£°éŸ³è¾¨åˆ«æ–¹å‘ã€‚ç”µè¯é“ƒå£°è®©ä»–è¯¯ä»¥ä¸ºæ˜¯é—¨é“ƒï¼Œèµ°å‘é—¨å£æ—¶ä»æ¥¼æ¢¯ä¸Šæ‘”ä¸‹æ¥æ­»äº†ã€‚",
        keywords=["ç›²äºº", "å¬å£°éŸ³", "é—¨é“ƒ", "æ¥¼æ¢¯", "æ‘”æ­»"],
        difficulty=3,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="å®Œç¾çš„è°è¨€",
        description="ä¸€ä¸ªå¥³äººå‘Šè¯‰è­¦å¯Ÿå¥¹çš„ä¸ˆå¤«æ˜¯è‡ªæ€çš„ï¼Œè­¦å¯Ÿç›¸ä¿¡äº†ã€‚ä½†å®é™…ä¸Šå¥¹æ˜¯killæ­»äº†ä¸ˆå¤«ã€‚å¥¹æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ",
        truth="å¥¹åœ¨ä¸ˆå¤«ç¡è§‰æ—¶åœ¨ä»–æ‰‹ä¸Šç»‘äº†ä¸€å—å†°ï¼Œå†°èåŒ–åç»³å­æ¾å¼€ï¼Œçœ‹èµ·æ¥åƒæ˜¯è‡ªå·±å¼€æªè‡ªæ€ã€‚",
        keywords=["å†°", "èåŒ–", "ç»³å­", "å¼€æª", "ä¼ªè£…"],
        difficulty=4,
        category="çŠ¯ç½ª"
    ),
    Story(
        title="å­¤å²›æ±‚ç”Ÿ",
        description="ä¸€ä¸ªç”·äººè¢«å›°åœ¨å­¤å²›ä¸Šï¼Œå²›ä¸Šæœ‰å……è¶³çš„é£Ÿç‰©å’Œæ°´ï¼Œä½†ä»–è¿˜æ˜¯æ­»äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–çœ‹åˆ°è¿œå¤„æœ‰èˆ¹ç»è¿‡ï¼Œç”Ÿèµ·ç«å †æ±‚æ•‘ï¼Œä½†é£å‘æ”¹å˜ï¼ŒçƒŸé›¾é®æŒ¡äº†ä»–çš„è§†çº¿ï¼Œä»–æ²¡çœ‹åˆ°èˆ¹å·²ç»æ”¹å˜èˆªå‘æ¥æ•‘ä»–ï¼Œç»æœ›ä¸­è‡ªæ€äº†ã€‚",
        keywords=["æ±‚æ•‘", "ç«å †", "çƒŸé›¾", "èˆ¹", "ç»æœ›"],
        difficulty=3,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="é­”æœ¯å¸ˆçš„ç§˜å¯†",
        description="ä¸€ä¸ªé­”æœ¯å¸ˆåœ¨è¡¨æ¼”ä¸­çœŸçš„æ¶ˆå¤±äº†ï¼Œè§‚ä¼—ä»¥ä¸ºæ˜¯é­”æœ¯ï¼Œä½†ä»–å†ä¹Ÿæ²¡æœ‰å‡ºç°ã€‚ä»–å»å“ªäº†ï¼Ÿ",
        truth="ä»–æ‰è¿›äº†èˆå°ä¸‹çš„é™·é˜±é‡Œï¼Œè¢«æœºå…³å¤¹æ­»äº†ã€‚è§‚ä¼—ä»¥ä¸ºè¿™æ˜¯é­”æœ¯çš„ä¸€éƒ¨åˆ†ã€‚",
        keywords=["é™·é˜±", "æœºå…³", "å¤¹æ­»", "èˆå°", "æ„å¤–"],
        difficulty=2,
        category="æ‚¬ç–‘"
    ),
    Story(
        title="è®°å¿†ç¢ç‰‡",
        description="ä¸€ä¸ªç”·äººå¤±å¿†äº†ï¼ŒåŒ»ç”Ÿå‘Šè¯‰ä»–å¯ä»¥æ¢å¤è®°å¿†ï¼Œä½†ä»–æ‹’ç»äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯æ€äººçŠ¯ï¼Œå¤±å¿†è®©ä»–å¿˜è®°äº†è‡ªå·±çš„ç½ªè¡Œï¼Œä»–ä¸æƒ³è®°èµ·è¿™äº›ç—›è‹¦çš„äº‹æƒ…ã€‚",
        keywords=["æ€äººçŠ¯", "ç½ªè¡Œ", "å¿˜è®°", "ç—›è‹¦", "é€ƒé¿"],
        difficulty=3,
        category="å¿ƒç†"
    ),
    Story(
        title="æœ€åçš„ç”µè¯",
        description="ä¸€ä¸ªå¥³äººç»™å¥¹çš„æœ‹å‹æ‰“ç”µè¯è¯´'æˆ‘è¦æ­»äº†'ï¼Œæœ‹å‹ä»¥ä¸ºå¥¹åœ¨å¼€ç©ç¬‘ã€‚ç¬¬äºŒå¤©å¥³äººçœŸçš„æ­»äº†ã€‚ä¸ºä»€ä¹ˆæœ‹å‹ä¸ç›¸ä¿¡ï¼Ÿ",
        truth="å› ä¸ºå¥³äººç»å¸¸å¼€è¿™ç§ç©ç¬‘ï¼Œæœ‹å‹å·²ç»ä¹ æƒ¯äº†ã€‚ä½†è¿™æ¬¡å¥¹æ˜¯è®¤çœŸçš„ï¼Œå¥¹æ‚£äº†ç»ç—‡ã€‚",
        keywords=["å¼€ç©ç¬‘", "ä¹ æƒ¯", "ç»ç—‡", "è®¤çœŸ", "è¯¯è§£"],
        difficulty=2,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="åŒèƒèƒä¹‹è°œ",
        description="ä¸€å¯¹åŒèƒèƒå…„å¼Ÿï¼Œå“¥å“¥æ€æ­»äº†å¼Ÿå¼Ÿï¼Œä½†è­¦å¯Ÿæ— æ³•é€®æ•ä»–ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–ä»¬æ˜¯è¿ä½“åŒèƒèƒï¼Œé€®æ•å“¥å“¥å°±ç­‰äºæ€æ­»ä»–ï¼Œè¿™åœ¨æ³•å¾‹ä¸Šæ˜¯ä¸è¢«å…è®¸çš„ã€‚",
        keywords=["è¿ä½“", "åŒèƒèƒ", "æ³•å¾‹", "ä¸å…è®¸", "å›°å¢ƒ"],
        difficulty=4,
        category="æ³•å¾‹"
    ),
    Story(
        title="æ²‰é»˜çš„è¯äºº",
        description="ä¸€ä¸ªå“‘å·´ç›®å‡»äº†ä¸€èµ·è°‹æ€æ¡ˆï¼Œä½†ä»–æ— æ³•å‘Šè¯‰è­¦å¯Ÿå‡¶æ‰‹æ˜¯è°ã€‚æœ€åå‡¶æ‰‹è¿˜æ˜¯è¢«æŠ“ä½äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºå“‘å·´ç”¨æ‰‹è¯­æè¿°äº†å‡¶æ‰‹çš„ç‰¹å¾ï¼Œè­¦å¯Ÿæ‰¾äº†æ‰‹è¯­ç¿»è¯‘å‘˜ã€‚",
        keywords=["æ‰‹è¯­", "æè¿°", "ç‰¹å¾", "ç¿»è¯‘å‘˜", "æ²Ÿé€š"],
        difficulty=2,
        category="æ™ºåŠ›"
    ),
    Story(
        title="æ—¶å…‰å€’æµ",
        description="ä¸€ä¸ªç”·äººå£°ç§°ä»–èƒ½é¢„çŸ¥æœªæ¥ï¼Œå¹¶å‡†ç¡®é¢„æµ‹äº†å‡ èµ·äº‹ä»¶ã€‚ä½†å®é™…ä¸Šä»–ä¸èƒ½é¢„çŸ¥æœªæ¥ã€‚ä»–æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯æ—¶é—´æ—…è¡Œè€…ï¼Œä»æœªæ¥å›åˆ°äº†è¿‡å»ï¼Œæ‰€ä»¥çŸ¥é“å°†è¦å‘ç”Ÿçš„äº‹æƒ…ã€‚",
        keywords=["æ—¶é—´æ—…è¡Œ", "æœªæ¥", "è¿‡å»", "çŸ¥é“", "ç§‘å¹»"],
        difficulty=5,
        category="ç§‘å¹»"
    ),
    Story(
        title="æ— å£°çš„éŸ³ä¹",
        description="ä¸€ä¸ªè‹äººåœ¨éŸ³ä¹ä¼šä¸Šå“­äº†ï¼Œä½†ä»–å¬ä¸åˆ°ä»»ä½•å£°éŸ³ã€‚ä¸ºä»€ä¹ˆä»–ä¼šå“­ï¼Ÿ",
        truth="å› ä¸ºä»–é€šè¿‡æŒ¯åŠ¨æ„Ÿå—éŸ³ä¹ï¼Œæƒ³èµ·äº†å¤±å»å¬åŠ›å‰æœ€å–œæ¬¢çš„æ­Œæ›²ã€‚",
        keywords=["è‹äºº", "æŒ¯åŠ¨", "æ„Ÿå—", "å¤±å»", "å›å¿†"],
        difficulty=2,
        category="æ„Ÿäºº"
    ),
    Story(
        title="å®Œç¾çš„å¤ä»‡",
        description="ä¸€ä¸ªç”·äººèŠ±äº†åå¹´æ—¶é—´ç­–åˆ’å¤ä»‡ï¼Œä½†åœ¨å¤ä»‡æˆåŠŸçš„é‚£ä¸€åˆ»ï¼Œä½†ä»–å´åŸè°…äº†ä»‡äººã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–å‘ç°ä»‡äººå·²ç»å¤±æ˜äº†ï¼Œå’Œä»–ä¸€æ ·æˆäº†æ®‹ç–¾äººï¼Œä»–è§‰å¾—ä»‡äººå·²ç»å—åˆ°äº†è¶³å¤Ÿçš„æƒ©ç½šã€‚",
        keywords=["å¤±æ˜", "æ®‹ç–¾", "æƒ©ç½š", "è¶³å¤Ÿ", "åŒæƒ…"],
        difficulty=3,
        category="æ„Ÿäºº"
    ),
    Story(
        title="ç¥ç§˜çš„æˆ¿é—´",
        description="ä¸€ä¸ªæˆ¿é—´é‡Œæœ‰ä¸€ä¸ªæ­»äººï¼Œæˆ¿é—´ä»å†…éƒ¨é”ç€ï¼Œæ²¡æœ‰å…¶ä»–å‡ºå…¥å£ï¼Œä¹Ÿæ²¡æœ‰è‡ªæ€çš„å·¥å…·ã€‚ä»–æ˜¯æ€ä¹ˆæ­»çš„ï¼Ÿ",
        truth="ä»–æ˜¯è¢«å†°é”¥æ€æ­»çš„ï¼Œå†°é”¥èåŒ–åæ¶ˆå¤±äº†ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°å‡¶å™¨ã€‚",
        keywords=["å†°é”¥", "èåŒ–", "æ¶ˆå¤±", "å‡¶å™¨", "å¯†å®¤"],
        difficulty=4,
        category="æ¨ç†"
    ),
    Story(
        title="æœ€åçš„æ„¿æœ›",
        description="ä¸€ä¸ªå³å°†æ­»å»çš„è€äººæœ€åçš„æ„¿æœ›æ˜¯åƒä¸€ä¸ªè‹¹æœï¼Œå®¶äººç»™äº†ä»–è‹¹æœï¼Œä½†ä»–åƒäº†ä¸€å£å°±æ­»äº†ã€‚è‹¹æœæ²¡æœ‰æ¯’ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºè€äººæ²¡æœ‰ç‰™é½¿ï¼Œè‹¹æœå¤ªç¡¬äº†ï¼Œä»–è¢«å™æ­»äº†ã€‚",
        keywords=["æ²¡æœ‰ç‰™é½¿", "å¤ªç¡¬", "å™æ­»", "è€äºº", "æ„å¤–"],
        difficulty=1,
        category="ç®€å•"
    ),
    Story(
        title="é›¨ä¸­çš„ç§˜å¯†",
        description="ä¸€ä¸ªç”·äººåœ¨é›¨ä¸­èµ°è·¯ï¼Œä½†ä»–æ²¡æœ‰è¢«é›¨æ·‹æ¹¿ã€‚ä»–æ²¡æœ‰é›¨ä¼ï¼Œä¹Ÿæ²¡æœ‰èº²åœ¨ä»»ä½•åœ°æ–¹ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æ˜¯ç§ƒå¤´ï¼Œé›¨æ°´ç›´æ¥ä»ä»–çš„å¤´ä¸Šæ»‘è½ï¼Œæ²¡æœ‰è¢«å¤´å‘å¸æ”¶ã€‚",
        keywords=["ç§ƒå¤´", "æ»‘è½", "å¤´å‘", "å¸æ”¶", "å…‰æ»‘"],
        difficulty=1,
        category="ç®€å•"
    ),
    Story(
        title="æ°¸æ’çš„ç­‰å¾…",
        description="ä¸€ä¸ªå¥³äººåœ¨è½¦ç«™ç­‰äº†ä¸€ä¸ªäºº50å¹´ï¼Œä½†é‚£ä¸ªäººæ°¸è¿œä¸ä¼šæ¥äº†ã€‚å¥¹ä¸ºä»€ä¹ˆè¿˜åœ¨ç­‰ï¼Ÿ",
        truth="å› ä¸ºå¥¹æ‚£äº†é˜¿å°”èŒ¨æµ·é»˜ç—…ï¼Œæ¯å¤©éƒ½å¿˜è®°é‚£ä¸ªäººå·²ç»æ­»äº†ï¼Œé‡æ–°å¼€å§‹ç­‰å¾…ã€‚",
        keywords=["é˜¿å°”èŒ¨æµ·é»˜", "å¿˜è®°", "æ­»äº†", "é‡æ–°", "ç–¾ç—…"],
        difficulty=3,
        category="æ‚²ä¼¤"
    ),
    Story(
        title="æ•°å­—çš„è¯…å’’",
        description="ä¸€ä¸ªæ•°å­¦å®¶çœ‹åˆ°æ•°å­—13å°±ä¼šæ­»ï¼Œä½†13åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ•°å­—ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–æœ‰ä¸¥é‡çš„ææƒ§ç—‡ï¼Œçœ‹åˆ°13å°±ä¼šå¿ƒè„ç—…å‘ä½œã€‚",
        keywords=["ææƒ§ç—‡", "å¿ƒè„ç—…", "å‘ä½œ", "å¿ƒç†", "ç–¾ç—…"],
        difficulty=2,
        category="å¿ƒç†"
    ),
    Story(
        title="å½±å­çš„ç§˜å¯†",
        description="ä¸€ä¸ªç”·äººå®³æ€•è‡ªå·±çš„å½±å­ï¼Œæ¯å½“çœ‹åˆ°å½±å­å°±ä¼šå°–å«ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–çš„å½±å­é‡Œéšè—ç€ä»–æ€æ­»çš„äººçš„çµé­‚ï¼Œåªæœ‰ä»–èƒ½çœ‹åˆ°ã€‚",
        keywords=["çµé­‚", "æ€æ­»", "éšè—", "çœ‹åˆ°", "è¶…è‡ªç„¶"],
        difficulty=4,
        category="è¶…è‡ªç„¶"
    ),
    Story(
        title="æœ€åçš„èˆè¹ˆ",
        description="ä¸€ä¸ªèˆè¹ˆå®¶åœ¨èˆå°ä¸Šè·³å®Œæœ€åä¸€æ”¯èˆåå°±æ­»äº†ï¼Œä½†å¥¹æ²¡æœ‰ç”Ÿç—…ï¼Œä¹Ÿæ²¡æœ‰å—ä¼¤ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºå¥¹è·³çš„æ˜¯æ­»äº¡ä¹‹èˆï¼Œè¿™æ˜¯å¥¹ä¸ºè‡ªå·±å‡†å¤‡çš„è‘¬ç¤¼èˆè¹ˆï¼Œè·³å®Œåæœæ¯’è‡ªæ€äº†ã€‚",
        keywords=["æ­»äº¡ä¹‹èˆ", "è‘¬ç¤¼", "æœæ¯’", "è‡ªæ€", "ä»ªå¼"],
        difficulty=4,
        category="è‰ºæœ¯"
    ),
    Story(
        title="æ— å£°çš„å‘å–Š",
        description="ä¸€ä¸ªç”·äººåœ¨æ¢¦ä¸­å¤§å£°å‘¼æ•‘ï¼Œä½†ç°å®ä¸­ä»–ä¸€ç‚¹å£°éŸ³éƒ½æ²¡æœ‰å‘å‡ºã€‚ä¸ºä»€ä¹ˆæ²¡äººæ•‘ä»–ï¼Ÿ",
        truth="å› ä¸ºä»–è¢«æ´»åŸ‹äº†ï¼Œåœ¨æ£ºæé‡Œçª’æ¯è€Œæ­»ï¼Œäººä»¬ä»¥ä¸ºä»–å·²ç»æ­»äº†ã€‚",
        keywords=["æ´»åŸ‹", "æ£ºæ", "çª’æ¯", "æ­»äº†", "è¯¯åˆ¤"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="è®°å¿†çš„é‡é‡",
        description="ä¸€ä¸ªç”·äººæ¯æ¬¡æƒ³èµ·æŸä¸ªè®°å¿†å°±ä¼šå˜é‡ä¸€ç‚¹ï¼Œæœ€åè¢«å‹æ­»äº†ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ",
        truth="ä»–æ¯æ¬¡æƒ³èµ·æ€æ­»çš„äººå°±ä¼šåœ¨èº«ä¸Šæ”¾ä¸€å—çŸ³å¤´ï¼Œæœ€åè¢«çŸ³å¤´å‹æ­»äº†ï¼Œè¿™æ˜¯ä»–çš„è‡ªæˆ‘æƒ©ç½šã€‚",
        keywords=["çŸ³å¤´", "å‹æ­»", "è‡ªæˆ‘æƒ©ç½š", "æ€æ­»", "è´Ÿç½ªæ„Ÿ"],
        difficulty=4,
        category="å¿ƒç†"
    ),
    Story(
        title="å…‰æ˜ä¸é»‘æš—",
        description="ä¸€ä¸ªç›²äººé‡è§å…‰æ˜åç«‹å³è‡ªæ€äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–çœ‹åˆ°äº†è‡ªå·±æ€æ­»çš„äººçš„å°¸ä½“å°±åœ¨è¾¹ï¼ŒåŸæ¥ä»–ä¸€ç›´å’Œå°¸ä½“ç”Ÿæ´»åœ¨ä¸€èµ·ã€‚",
        keywords=["é‡è§å…‰æ˜", "å°¸ä½“", "è¾¹", "ä¸€ç›´", "ææ€–"],
        difficulty=5,
        category="ææ€–"
    ),
    Story(
        title="æ—¶é—´çš„ç¤¼ç‰©",
        description="ä¸€ä¸ªç”·äººæ”¶åˆ°äº†ä¸€å—åœæ­¢çš„æ‰‹è¡¨ä½œä¸ºç¤¼ç‰©ï¼Œä»–çœ‹äº†ä¸€çœ¼å°±çŸ¥é“è‡ªå·±ä¼šåœ¨ä»€ä¹ˆæ—¶å€™æ­»ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºæ‰‹è¡¨åœåœ¨äº†ä»–å‡ºç”Ÿçš„æ—¶é—´ï¼Œè¿™æ„å‘³ç€ä»–çš„ç”Ÿå‘½å³å°†ç»“æŸï¼Œå›åˆ°èµ·ç‚¹ã€‚",
        keywords=["åœæ­¢", "å‡ºç”Ÿæ—¶é—´", "ç”Ÿå‘½", "ç»“æŸ", "èµ·ç‚¹"],
        difficulty=4,
        category="å“²å­¦"
    ),
    Story(
        title="æœ€åçš„ç¬‘å®¹",
        description="ä¸€ä¸ªå°ä¸‘æ‘˜ä¸‹é¢å…·åå°±æ­»äº†ï¼Œä½†é¢å…·æ²¡æœ‰æ¯’æ€§ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºé¢å…·ä¸‹é¢æ˜¯ä»–è…çƒ‚çš„è„¸ï¼Œä»–å…¶å®æ—©å°±æ­»äº†ï¼Œæ˜¯é¢å…·è®©ä»–çœ‹èµ·æ¥è¿˜æ´»ç€ã€‚",
        keywords=["è…çƒ‚", "æ—©å°±æ­»äº†", "é¢å…·", "æ´»ç€", "å‡è±¡"],
        difficulty=5,
        category="è¶…è‡ªç„¶"
    ),
    Story(
        title="å£°éŸ³çš„é™·é˜±",
        description="ä¸€ä¸ªéŸ³ä¹å®¶å¬åˆ°äº†ä¸–ç•Œä¸Šæœ€ç¾çš„éŸ³ä¹ï¼Œç„¶åå°±æ­»äº†ã€‚éŸ³ä¹æ²¡æœ‰ä»»ä½•å±é™©ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºé‚£æ˜¯å¤©å ‚çš„éŸ³ä¹ï¼Œåªæœ‰æ­»äººæ‰èƒ½å¬åˆ°ï¼Œä»–å¬åˆ°éŸ³ä¹è¯´æ˜ä»–å·²ç»æ­»äº†ã€‚",
        keywords=["å¤©å ‚", "éŸ³ä¹", "æ­»äºº", "å¬åˆ°", "å·²ç»æ­»äº†"],
        difficulty=4,
        category="è¶…è‡ªç„¶"
    ),
    Story(
        title="æ°¸æ’çš„æƒ©ç½š",
        description="ä¸€ä¸ªç”·äººè¢«åˆ¤å¤„æ°¸ç”Ÿï¼Œä½†ä»–è®¤ä¸ºè¿™æ˜¯æœ€æ®‹é…·çš„æƒ©ç½šã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–å¿…é¡»æ°¸è¿œæ´»ç€çœ‹ç€è‡ªå·±æ‰€çˆ±çš„äººä¸€ä¸ªä¸ªæ­»å»ï¼Œæ‰¿å—æ— å°½çš„ç—›è‹¦ã€‚",
        keywords=["æ°¸ç”Ÿ", "æ‰€çˆ±çš„äºº", "æ­»å»", "æ— å°½", "ç—›è‹¦"],
        difficulty=3,
        category="å“²å­¦"
    ),
    Story(
        title="é•œä¸­ä¸–ç•Œ",
        description="ä¸€ä¸ªå¥³äººçœ‹ç€é•œå­ï¼Œé•œå­é‡Œçš„è‡ªå·±åšäº†ä¸åŒçš„åŠ¨ä½œã€‚å¥¹æ²¡æœ‰ç–¯ï¼Œé•œå­ä¹Ÿæ²¡æœ‰åã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºé•œå­é‡Œæ˜¯å¥¹çš„åŒèƒèƒå§å¦¹ï¼Œå¥¹ä»¬é•¿å¾—ä¸€æ¨¡ä¸€æ ·ï¼Œå§å¦¹åœ¨é•œå­åé¢æ¨¡ä»¿å¥¹ã€‚",
        keywords=["åŒèƒèƒ", "å§å¦¹", "ä¸€æ¨¡ä¸€æ ·", "åé¢", "æ¨¡ä»¿"],
        difficulty=2,
        category="æ™ºåŠ›"
    ),
    Story(
        title="æœ€åçš„æ™šé¤",
        description="ä¸€ç¾¤äººåœ¨è’å²›ä¸Šï¼Œé£Ÿç‰©åªå¤Ÿä¸€ä¸ªäººåƒã€‚ä»–ä»¬å†³å®šæŠ½ç­¾å†³å®šè°èƒ½æ´»ä¸‹æ¥ï¼Œä½†æœ€åæ‰€æœ‰äººéƒ½æ­»äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºä»–ä»¬æŠ½ç­¾çš„çº¸æ¡ä¸Šéƒ½å†™ç€æ­»ï¼Œæ²¡æœ‰äººæƒ³ç‹¬è‡ªæ´»ä¸‹æ¥æ‰¿å—å­¤ç‹¬ã€‚",
        keywords=["æŠ½ç­¾", "éƒ½å†™ç€æ­»", "ç‹¬è‡ª", "å­¤ç‹¬", "ä¸æƒ³"],
        difficulty=3,
        category="äººæ€§"
    ),
    Story(
        title="æ·±å¤œè®¿å®¢",
        description="ä¸€ä¸ªç”·äººæ·±å¤œå¬åˆ°æ•²é—¨å£°ï¼Œå¼€é—¨åå‘ç°æ˜¯é‚»å±…ï¼Œé‚»å±…è¯´ï¼š'ä½ çš„ç¯è¿˜äº®ç€ã€‚'ç”·äººç«‹åˆ»å…³é—¨æŠ¥è­¦ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºé‚£ä¸ªé‚»å±…å·²ç»æ­»äº†å¾ˆä¹…äº†ï¼Œä¸å¯èƒ½æ¥æ•²é—¨ã€‚è¿™å¯èƒ½æ˜¯æœ‰äººå†’å……é‚»å±…æƒ³è¦è¿›å…¥ä»–çš„å®¶ã€‚",
        keywords=["é‚»å±…", "æ­»äºº", "å†’å……", "æ·±å¤œ", "å±é™©"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="ç…§ç‰‡çš„ç§˜å¯†",
        description="ä¸€ä¸ªå¥³äººçœ‹åˆ°è‡ªå·±çš„ç…§ç‰‡åç«‹åˆ»é€ƒè·‘äº†ã€‚ç…§ç‰‡æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œå¥¹çš„æ ·å­ä¹Ÿæ²¡æœ‰å˜åŒ–ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="ç…§ç‰‡æ˜¯åœ¨å¥¹ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¢«å·æ‹çš„ï¼Œè¯´æ˜æœ‰äººåœ¨è·Ÿè¸ªå¥¹ï¼Œå¥¹æ„è¯†åˆ°è‡ªå·±å¤„äºå±é™©ä¸­ã€‚",
        keywords=["å·æ‹", "è·Ÿè¸ª", "å±é™©", "é€ƒè·‘", "ç›‘è§†"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="ç”µæ¢¯é‡Œçš„é™Œç”Ÿäºº",
        description="ä¸€ä¸ªå¥³äººè¿›ç”µæ¢¯æ—¶çœ‹åˆ°é‡Œé¢æœ‰ä¸ªç”·äººï¼Œå¥¹ç«‹åˆ»é€€å‡ºæ¥ç­‰ä¸‹ä¸€ç­ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="é‚£ä¸ªç”·äººæŒ‰äº†æ‰€æœ‰æ¥¼å±‚çš„æŒ‰é’®ï¼Œè¿™æ˜¯ç»‘æ¶çŠ¯å¸¸ç”¨çš„æ‰‹æ®µï¼Œä¸ºäº†å»¶é•¿åœ¨ç”µæ¢¯é‡Œçš„æ—¶é—´ã€‚",
        keywords=["ç”µæ¢¯", "æŒ‰é’®", "ç»‘æ¶", "æ‰‹æ®µ", "å±é™©"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="åœè½¦åœºæƒŠé­‚",
        description="ä¸€ä¸ªå¥³äººåœ¨åœè½¦åœºå‘ç°è‡ªå·±è½¦ä¸Šæœ‰å¼ çº¸æ¡ï¼Œçœ‹äº†åç«‹åˆ»æŠ¥è­¦ã€‚çº¸æ¡ä¸Šå†™ç€'ä½ çš„è½¦å¾ˆæ¼‚äº®'ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="çº¸æ¡æ”¾åœ¨é›¨åˆ·ä¸‹é¢ï¼Œä½†ä»Šå¤©æ²¡æœ‰ä¸‹é›¨ï¼Œè¯´æ˜æœ‰äººæ•…æ„æ”¾çš„ã€‚è¿™å¯èƒ½æ˜¯è·Ÿè¸ªè€…ç•™ä¸‹çš„ä¿¡å·ã€‚",
        keywords=["çº¸æ¡", "é›¨åˆ·", "è·Ÿè¸ª", "ä¿¡å·", "å±é™©"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="å©´å„¿çš„å“­å£°",
        description="ä¸€ä¸ªå¥³äººæ·±å¤œå¬åˆ°é—¨å¤–æœ‰å©´å„¿å“­å£°ï¼Œä½†å¥¹æ²¡æœ‰å¼€é—¨ã€‚ç¬¬äºŒå¤©å‘ç°é—¨å£æœ‰è¡€è¿¹ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯çŠ¯ç½ªåˆ†å­çš„é™·é˜±ï¼Œç”¨å½•éŸ³æ¨¡æ‹Ÿå©´å„¿å“­å£°å¼•äººå¼€é—¨ã€‚è¡€è¿¹å¯èƒ½æ˜¯å…¶ä»–å—å®³è€…ç•™ä¸‹çš„ã€‚",
        keywords=["å©´å„¿", "å“­å£°", "é™·é˜±", "å½•éŸ³", "è¡€è¿¹"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="æ¶ˆå¤±çš„å®¤å‹",
        description="ä¸€ä¸ªå¥³å¤§å­¦ç”Ÿå‘ç°å®¤å‹ä¸‰å¤©æ²¡å›æ¥ï¼Œä½†å®¤å‹çš„ä¸œè¥¿éƒ½åœ¨ï¼Œæ‰‹æœºä¹Ÿåœ¨å……ç”µã€‚ä¸ºä»€ä¹ˆå¥¹å¾ˆæ‹…å¿ƒï¼Ÿ",
        truth="å› ä¸ºå®¤å‹ä»æ¥ä¸ä¼šä¸å¸¦æ‰‹æœºå‡ºé—¨ï¼Œè€Œä¸”å¥¹çš„é’±åŒ…å’Œé’¥åŒ™ä¹Ÿéƒ½åœ¨ï¼Œè¯´æ˜å¥¹å¯èƒ½é‡åˆ°äº†æ„å¤–ã€‚",
        keywords=["å®¤å‹", "å¤±è¸ª", "æ‰‹æœº", "é’±åŒ…", "æ„å¤–"],
        difficulty=2,
        category="æ¨ç†"
    ),
    Story(
        title="åœ°ä¸‹å®¤çš„å£°éŸ³",
        description="ä¸€ä¸ªç”·äººæ¬è¿›æ–°æˆ¿å­åï¼Œæ¯æ™šéƒ½å¬åˆ°åœ°ä¸‹å®¤æœ‰å¥‡æ€ªçš„å£°éŸ³ã€‚ä»–æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºè¿™æˆ¿å­æ²¡æœ‰åœ°ä¸‹å®¤ï¼Œå£°éŸ³å¯èƒ½æ¥è‡ªè¢«å›°åœ¨å¢™å£æˆ–åœ°æ¿ä¸‹çš„äººã€‚",
        keywords=["åœ°ä¸‹å®¤", "å£°éŸ³", "è¢«å›°", "å¢™å£", "æ•‘æ´"],
        difficulty=4,
        category="ææ€–"
    ),
    Story(
        title="ATMæœºå‰çš„ç”·äºº",
        description="ä¸€ä¸ªå¥³äººåœ¨ATMæœºå‰çœ‹åˆ°ä¸€ä¸ªç”·äººä¸€ç›´åœ¨æŒ‰é”®ä½†æ²¡æœ‰å–é’±ï¼Œå¥¹ç«‹åˆ»ç¦»å¼€äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="é‚£ä¸ªç”·äººå¯èƒ½åœ¨ATMæœºä¸Šå®‰è£…äº†è¯»å¡å™¨ï¼Œå‡è£…ä½¿ç”¨ATMæ¥æ©ç›–è‡ªå·±çš„è¡Œä¸ºã€‚",
        keywords=["ATM", "è¯»å¡å™¨", "è¯ˆéª—", "ç›—åˆ·", "çŠ¯ç½ª"],
        difficulty=3,
        category="æ¨ç†"
    ),
    Story(
        title="å…¬äº¤è½¦ä¸Šçš„åº§ä½",
        description="ä¸€ä¸ªå¥³äººä¸Šå…¬äº¤è½¦æ—¶å‘ç°åªæœ‰æœ€åä¸€æ’æœ‰ç©ºåº§ï¼Œä½†å¥¹å®æ„¿ç«™ç€ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å› ä¸ºæœ€åä¸€æ’åç€å‡ ä¸ªå¯ç–‘çš„ç”·äººï¼Œä»–ä»¬ä¸€ç›´åœ¨ç›¯ç€å¥¹çœ‹ï¼Œå¥¹æ„Ÿè§‰ä¸å®‰å…¨ã€‚",
        keywords=["å…¬äº¤è½¦", "å¯ç–‘", "ç›¯ç€", "ä¸å®‰å…¨", "ç›´è§‰"],
        difficulty=2,
        category="æ¨ç†"
    ),
    Story(
        title="ç½‘è´­çš„åŒ…è£¹",
        description="ä¸€ä¸ªå¥³äººæ”¶åˆ°ä¸€ä¸ªå¥¹æ²¡æœ‰è®¢è´­çš„åŒ…è£¹ï¼Œé‡Œé¢æ˜¯ä¸€ä»¶è¡£æœã€‚å¥¹ç«‹åˆ»æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™å¯èƒ½æ˜¯è·Ÿè¸ªç‹‚å¯„æ¥çš„ï¼Œè¯´æ˜å¯¹æ–¹çŸ¥é“å¥¹çš„åœ°å€ã€å°ºç ç­‰ä¸ªäººä¿¡æ¯ï¼Œå¥¹å¤„äºè¢«ç›‘è§†çš„å±é™©ä¸­ã€‚",
        keywords=["åŒ…è£¹", "è·Ÿè¸ªç‹‚", "ä¸ªäººä¿¡æ¯", "ç›‘è§†", "å±é™©"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="å’–å•¡åº—çš„é™Œç”Ÿäºº",
        description="ä¸€ä¸ªå¥³äººåœ¨å’–å•¡åº—é‡Œå‘ç°æœ‰ä¸ªç”·äººä¸€ç›´åœ¨çœ‹å¥¹ï¼Œå¥¹æ¢äº†ä¸‰æ¬¡åº§ä½ï¼Œé‚£ä¸ªç”·äººä¹Ÿè·Ÿç€æ¢ã€‚å¥¹æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜æ˜¾æ˜¯è·Ÿè¸ªè¡Œä¸ºï¼Œé‚£ä¸ªç”·äººå¯èƒ½æ˜¯è·Ÿè¸ªç‹‚æˆ–è€…æœ‰å…¶ä»–æ¶æ„ä¼å›¾ã€‚",
        keywords=["è·Ÿè¸ª", "æ¢åº§ä½", "æ¶æ„", "è·Ÿè¸ªç‹‚", "å±é™©"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="é…’åº—æˆ¿é—´çš„å‘ç°",
        description="ä¸€ä¸ªå¥³äººå…¥ä½é…’åº—åå‘ç°åºŠä¸‹æœ‰ä¸ªæ‰‹æœºåœ¨å½•åƒï¼Œå¥¹ç«‹åˆ»æŠ¥è­¦ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="æœ‰äººåœ¨æˆ¿é—´é‡Œå®‰è£…äº†å·æ‹è®¾å¤‡ï¼Œè¿™æ˜¯ä¸¥é‡çš„éšç§ä¾µçŠ¯å’ŒçŠ¯ç½ªè¡Œä¸ºã€‚",
        keywords=["é…’åº—", "å·æ‹", "å½•åƒ", "éšç§", "çŠ¯ç½ª"],
        difficulty=1,
        category="ææ€–"
    ),
    Story(
        title="ç”µè¯é‡Œçš„å‘¼å¸å£°",
        description="ä¸€ä¸ªå¥³äººæ¥ç”µè¯æ—¶åªå¬åˆ°å‘¼å¸å£°ï¼Œæ²¡æœ‰äººè¯´è¯ã€‚è¿™ç§æƒ…å†µæŒç»­äº†ä¸€å‘¨ã€‚å¥¹æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯éªšæ‰°ç”µè¯çš„ä¸€ç§å½¢å¼ï¼Œå¯èƒ½æ˜¯è·Ÿè¸ªç‹‚æˆ–è€…æœ‰æ¶æ„çš„äººåœ¨è¯•æ¢å¥¹çš„ä½œæ¯æ—¶é—´ã€‚",
        keywords=["éªšæ‰°ç”µè¯", "å‘¼å¸å£°", "è·Ÿè¸ª", "ä½œæ¯", "æ¶æ„"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="ç¤¾äº¤åª’ä½“çš„ç‚¹èµ",
        description="ä¸€ä¸ªå¥³äººå‘ç°æœ‰äººç»™å¥¹ä¸‰å¹´å‰çš„ç…§ç‰‡ç‚¹èµï¼Œå¥¹ç«‹åˆ»åˆ é™¤äº†æ‰€æœ‰ç¤¾äº¤åª’ä½“è´¦å·ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="æœ‰äººåœ¨ç¿»çœ‹å¥¹çš„å†å²è®°å½•ï¼Œè¿™å¯èƒ½æ˜¯è·Ÿè¸ªè¡Œä¸ºçš„å¼€å§‹ï¼Œå¥¹æ„Ÿåˆ°äº†å¨èƒã€‚",
        keywords=["ç¤¾äº¤åª’ä½“", "å†å²è®°å½•", "è·Ÿè¸ª", "å¨èƒ", "åˆ é™¤"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="å‡ºç§Ÿè½¦å¸æœº",
        description="ä¸€ä¸ªå¥³äººä¸Šå‡ºç§Ÿè½¦åå‘ç°å¸æœºæŠŠä¸­æ§é”é”ä¸Šäº†ï¼Œå¥¹ç«‹åˆ»è¦æ±‚ä¸‹è½¦ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="é”ä¸Šä¸­æ§é”æ„å‘³ç€å¥¹æ— æ³•è‡ªå·±å¼€é—¨é€ƒè„±ï¼Œè¿™å¯èƒ½æ˜¯ç»‘æ¶çš„å‰å…†ã€‚",
        keywords=["å‡ºç§Ÿè½¦", "ä¸­æ§é”", "ç»‘æ¶", "é€ƒè„±", "å±é™©"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="å¿«é€’å‘˜çš„å¼‚å¸¸",
        description="ä¸€ä¸ªå¥³äººå‘ç°å¿«é€’å‘˜æ€»æ˜¯åœ¨å¥¹ä¸‹ç­æ—¶é—´å‡†æ—¶å‡ºç°ï¼Œå¥¹å¼€å§‹æ€€ç–‘ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="çœŸæ­£çš„å¿«é€’å‘˜ä¸ä¼šè¿™ä¹ˆå‡†ç¡®åœ°æŒæ¡å¥¹çš„ä½œæ¯æ—¶é—´ï¼Œè¿™ä¸ªäººå¯èƒ½æ˜¯å†’å……çš„ï¼Œåœ¨ç›‘è§†å¥¹ã€‚",
        keywords=["å¿«é€’å‘˜", "ä½œæ¯æ—¶é—´", "å†’å……", "ç›‘è§†", "æ€€ç–‘"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="å¥èº«æˆ¿çš„è·Ÿéš",
        description="ä¸€ä¸ªå¥³äººåœ¨å¥èº«æˆ¿å‘ç°æ€»æœ‰ä¸ªç”·äººåœ¨å¥¹é™„è¿‘é”»ç‚¼ï¼Œå¥¹æ¢å™¨æ¢°ä»–ä¹Ÿæ¢ã€‚å¥¹æŠ¥å‘Šäº†æ•™ç»ƒã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯æ˜æ˜¾çš„è·Ÿè¸ªè¡Œä¸ºï¼Œé‚£ä¸ªç”·äººå¯èƒ½æœ‰ä¸è‰¯ä¼å›¾ï¼Œåœ¨å¥èº«æˆ¿è¿™ç§ç›¸å¯¹ç§å¯†çš„ç¯å¢ƒä¸­æ›´åŠ å±é™©ã€‚",
        keywords=["å¥èº«æˆ¿", "è·Ÿè¸ª", "æ¢å™¨æ¢°", "ä¸è‰¯ä¼å›¾", "å±é™©"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="é‚»å±…çš„å…³å¿ƒ",
        description="ä¸€ä¸ªå¥³äººçš„æ–°é‚»å±…æ€»æ˜¯é—®å¥¹ä»€ä¹ˆæ—¶å€™ä¸Šç­ä¸‹ç­ï¼Œå¥¹è§‰å¾—ä¸å¯¹åŠ²ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="æ­£å¸¸çš„é‚»å±…ä¸ä¼šè¿™ä¹ˆè¯¦ç»†åœ°è¯¢é—®ä½œæ¯æ—¶é—´ï¼Œè¿™å¯èƒ½æ˜¯åœ¨è¸©ç‚¹ï¼Œå‡†å¤‡å®æ–½çŠ¯ç½ªã€‚",
        keywords=["é‚»å±…", "ä½œæ¯æ—¶é—´", "è¸©ç‚¹", "çŠ¯ç½ª", "ä¸å¯¹åŠ²"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="ä¿®ç†å·¥çš„å€Ÿå£",
        description="ä¸€ä¸ªç”·äººè¯´æ˜¯æ¥ä¿®æ°´ç®¡çš„ï¼Œä½†å¥³ä¸»äººæ²¡æœ‰æŠ¥ä¿®ã€‚å¥¹æ²¡æœ‰å¼€é—¨ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯å…¥å®¤æŠ¢åŠ«çŠ¯å¸¸ç”¨çš„å€Ÿå£ï¼Œå†’å……ä¿®ç†å·¥æ¥è¯•æ¢å®¶é‡Œæ˜¯å¦æœ‰äººï¼Œç„¶åå®æ–½çŠ¯ç½ªã€‚",
        keywords=["ä¿®ç†å·¥", "å€Ÿå£", "å…¥å®¤æŠ¢åŠ«", "å†’å……", "çŠ¯ç½ª"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="è¶…å¸‚é‡Œçš„è·Ÿè¸ª",
        description="ä¸€ä¸ªå¥³äººåœ¨è¶…å¸‚è´­ç‰©æ—¶å‘ç°æœ‰ä¸ªç”·äººä¸€ç›´è·Ÿç€å¥¹ï¼Œå¥¹æ•…æ„ç»•äº†å‡ åœˆï¼Œé‚£ä¸ªç”·äººè¿˜åœ¨è·Ÿç€ã€‚å¥¹æ±‚åŠ©äº†ä¿å®‰ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯æ˜æ˜¾çš„è·Ÿè¸ªè¡Œä¸ºï¼Œé‚£ä¸ªç”·äººå¯èƒ½æƒ³è¦äº†è§£å¥¹çš„è´­ç‰©ä¹ æƒ¯æˆ–è€…ç­‰å¥¹åˆ°åœè½¦åœºæ—¶å®æ–½çŠ¯ç½ªã€‚",
        keywords=["è¶…å¸‚", "è·Ÿè¸ª", "è´­ç‰©ä¹ æƒ¯", "åœè½¦åœº", "çŠ¯ç½ª"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="é™Œç”Ÿäººçš„å¸®åŠ©",
        description="ä¸€ä¸ªå¥³äººçš„è½¦èƒçˆ†äº†ï¼Œæœ‰ä¸ªç”·äººä¸»åŠ¨æ¥å¸®å¿™ã€‚å¥¹æ‹’ç»äº†å¹¶å«äº†æ‹–è½¦ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="åœ¨ååƒ»çš„åœ°æ–¹ï¼Œé™Œç”Ÿäººçš„ä¸»åŠ¨å¸®åŠ©å¯èƒ½æ˜¯é™·é˜±ï¼Œå¥¹é€‰æ‹©æ›´å®‰å…¨çš„æ–¹å¼æ±‚åŠ©ã€‚",
        keywords=["è½¦èƒ", "é™Œç”Ÿäºº", "å¸®åŠ©", "é™·é˜±", "å®‰å…¨"],
        difficulty=2,
        category="æ¨ç†"
    ),
    Story(
        title="ç”µæ¢¯é‡Œçš„é•œå­",
        description="ä¸€ä¸ªå¥³äººè¿›ç”µæ¢¯æ—¶æ³¨æ„åˆ°é•œå­é‡Œæœ‰ä¸ªç”·äººåœ¨å¥¹èº«ååšæ‰‹åŠ¿ï¼Œå¥¹ç«‹åˆ»æŒ‰äº†ç´§æ€¥æŒ‰é’®ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="é‚£ä¸ªç”·äººå¯èƒ½åœ¨å‘å¤–é¢çš„åŒä¼™å‘ä¿¡å·ï¼Œå‡†å¤‡åœ¨ç”µæ¢¯é‡Œæˆ–è€…å¥¹å‡ºç”µæ¢¯æ—¶å®æ–½çŠ¯ç½ªã€‚",
        keywords=["ç”µæ¢¯", "é•œå­", "æ‰‹åŠ¿", "åŒä¼™", "ä¿¡å·"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="æ·±å¤œçš„æ•²é—¨å£°",
        description="ä¸€ä¸ªå¥³äººæ·±å¤œå¬åˆ°æ•²é—¨å£°ï¼Œå£°éŸ³å¾ˆè½»å¾ˆæœ‰èŠ‚å¥ã€‚å¥¹æ²¡æœ‰å¼€é—¨å¹¶æŠ¥äº†è­¦ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="æ­£å¸¸äººæ·±å¤œæ•²é—¨ä¼šæ¯”è¾ƒæ€¥ä¿ƒï¼Œè½»è€Œæœ‰èŠ‚å¥çš„æ•²é—¨å¯èƒ½æ˜¯åœ¨è¯•æ¢å®¶é‡Œæ˜¯å¦æœ‰äººï¼Œè¿™æ˜¯è¸©ç‚¹è¡Œä¸ºã€‚",
        keywords=["æ·±å¤œ", "æ•²é—¨å£°", "èŠ‚å¥", "è¯•æ¢", "è¸©ç‚¹"],
        difficulty=3,
        category="ææ€–"
    ),
    Story(
        title="å…¬å›­é‡Œçš„æ‘„å½±å¸ˆ",
        description="ä¸€ä¸ªå¥³äººåœ¨å…¬å›­é‡Œå‘ç°æœ‰äººåœ¨æ‹å¥¹ï¼Œå¥¹ä¸Šå‰è´¨é—®ï¼Œé‚£äººè¯´åœ¨æ‹é£æ™¯ã€‚å¥¹è¿˜æ˜¯æŠ¥è­¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å¦‚æœçœŸçš„åœ¨æ‹é£æ™¯ï¼Œç›¸æœºé•œå¤´ä¸ä¼šä¸€ç›´å¯¹ç€å¥¹ã€‚è¿™å¯èƒ½æ˜¯å·æ‹è¡Œä¸ºæˆ–è€…è·Ÿè¸ªçš„å¼€å§‹ã€‚",
        keywords=["å…¬å›­", "æ‘„å½±å¸ˆ", "å·æ‹", "é£æ™¯", "è·Ÿè¸ª"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="ç½‘çº¦è½¦çš„è·¯çº¿",
        description="ä¸€ä¸ªå¥³äººå‘ç°ç½‘çº¦è½¦å¸æœºæ²¡æœ‰æŒ‰ç…§å¯¼èˆªèµ°ï¼Œè€Œæ˜¯èµ°äº†ä¸€æ¡ååƒ»çš„è·¯ã€‚å¥¹ç«‹åˆ»ä¸‹è½¦äº†ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="å¸æœºæ•…æ„èµ°ååƒ»è·¯çº¿å¯èƒ½æœ‰æ¶æ„ä¼å›¾ï¼Œæ¯”å¦‚ç»‘æ¶æˆ–æŠ¢åŠ«ï¼Œå¥¹åŠæ—¶å¯Ÿè§‰å¹¶è„±ç¦»äº†å±é™©ã€‚",
        keywords=["ç½‘çº¦è½¦", "è·¯çº¿", "ååƒ»", "æ¶æ„", "ç»‘æ¶"],
        difficulty=2,
        category="ææ€–"
    ),
    Story(
        title="å›¾ä¹¦é¦†çš„çª¥è§†",
        description="ä¸€ä¸ªå¥³å­¦ç”Ÿåœ¨å›¾ä¹¦é¦†å­¦ä¹ æ—¶å‘ç°æœ‰ä¸ªç”·äººä¸€ç›´åœ¨çœ‹å¥¹ï¼Œå¥¹æ¢äº†å‡ æ¬¡åº§ä½éƒ½æ˜¯å¦‚æ­¤ã€‚å¥¹å‘Šè¯‰äº†ç®¡ç†å‘˜ã€‚ä¸ºä»€ä¹ˆï¼Ÿ",
        truth="è¿™æ˜¯è·Ÿè¸ªå’Œéªšæ‰°è¡Œä¸ºï¼Œåœ¨å›¾ä¹¦é¦†è¿™ç§å®‰é™çš„ç¯å¢ƒä¸­ï¼ŒæŒç»­çš„æ³¨è§†ä¼šè®©äººæ„Ÿåˆ°å¨èƒå’Œä¸å®‰ã€‚",
        keywords=["å›¾ä¹¦é¦†", "çª¥è§†", "æ¢åº§ä½", "éªšæ‰°", "å¨èƒ"],
        difficulty=2,
        category="ææ€–"
    )
]

# å·¥å…·å‡½æ•°
def get_game(group_id: str) -> TurtleSoupGame:
    """è·å–æˆ–åˆ›å»ºæ¸¸æˆå®ä¾‹"""
    if group_id not in games:
        games[group_id] = TurtleSoupGame(group_id=group_id)
    return games[group_id]

def is_truth_match(guess: str, story: Story) -> bool:
    """æ£€æŸ¥çŒœæµ‹æ˜¯å¦åŒ¹é…çœŸç›¸"""
    guess_lower = guess.lower().strip()
    truth_lower = story.truth.lower()
    
    # ç›´æ¥æ–‡æœ¬åŒ¹é…ï¼ˆå»é™¤æ ‡ç‚¹ç¬¦å·ï¼‰
    import re
    guess_clean = re.sub(r'[^\w\s]', '', guess_lower)
    truth_clean = re.sub(r'[^\w\s]', '', truth_lower)
    
    # å¦‚æœçŒœæµ‹åŒ…å«çœŸç›¸çš„ä¸»è¦å†…å®¹
    if len(guess_clean) > 10 and guess_clean in truth_clean:
        return True
    
    # å…³é”®è¯åŒ¹é… - éœ€è¦åŒ¹é…å¤§éƒ¨åˆ†å…³é”®è¯
    matched_keywords = 0
    for keyword in story.keywords:
        if keyword.lower() in guess_lower:
            matched_keywords += 1
    
    # å¦‚æœåŒ¹é…äº†è¶…è¿‡ä¸€åŠçš„å…³é”®è¯ï¼Œè®¤ä¸ºçŒœä¸­
    return matched_keywords >= len(story.keywords) * 0.6

def calculate_time_bonus(game_duration: float) -> int:
    """æ ¹æ®æ¸¸æˆæ—¶é•¿è®¡ç®—æ—¶é—´å¥–åŠ±"""
    if game_duration < 300:  # 5åˆ†é’Ÿå†…
        return 5
    elif game_duration < 600:  # 10åˆ†é’Ÿå†…
        return 3
    elif game_duration < 1200:  # 20åˆ†é’Ÿå†…
        return 1
    else:
        return 0

# å‘½ä»¤å¤„ç†å™¨
start_game = on_regex(pattern=r"^(å¼€å§‹æµ·é¾Ÿæ±¤|æµ·é¾Ÿæ±¤)$", priority=5)
register_game = on_regex(pattern=r"^(æŠ¥åæµ·é¾Ÿæ±¤|å‚åŠ æµ·é¾Ÿæ±¤|åŠ å…¥æµ·é¾Ÿæ±¤)$", priority=5)
end_registration = on_regex(pattern=r"^ç»“æŸæµ·é¾Ÿæ±¤æŠ¥å$", priority=5)
run_for_host = on_regex(pattern=r"^(ç«é€‰ä¸»æŒäºº|æˆ‘è¦å½“ä¸»æŒäºº|ä¸»æŒäºº)$", priority=5)
change_topic = on_regex(pattern=r"^(æ¢é¢˜|æ›´æ¢é¢˜ç›®|æ¢ä¸ªé¢˜ç›®)$", priority=5)
keep_topic = on_regex(pattern=r"^(ä¸æ¢|ä¿æŒ|å°±è¿™ä¸ª)$", priority=5)
hint_command = on_regex(pattern=r"^(æç¤º|hint)$", priority=5)
end_game = on_regex(pattern=r"^å¼ºåˆ¶ç»“æŸæµ·é¾Ÿæ±¤$", priority=5)
status_command = on_regex(pattern=r"^æµ·é¾Ÿæ±¤çŠ¶æ€$", priority=5)

# æ¶ˆæ¯å¤„ç†å™¨
message_handler = on_message()

@start_game.handle()
async def handle_start_game(bot: Bot, event: GroupMessageEvent):
    print("start_game")
    """å¼€å§‹æ¸¸æˆ"""
    group_id = str(event.group_id)
    game = get_game(group_id)
    
    if game.state != GameState.IDLE:
        await start_game.send("æ¸¸æˆå·²ç»åœ¨è¿›è¡Œä¸­äº†ï¼")
        return
    
    game.reset()
    game.state = GameState.REGISTERING
    game.start_time = time.time()
    game.registration_end_time = time.time() + 300  # 300ç§’æŠ¥åæ—¶é—´
    
    await start_game.send(
        "ğŸ¢ æµ·é¾Ÿæ±¤æ¸¸æˆå¼€å§‹ï¼\n"
        "ğŸ“ è¯·åœ¨300ç§’å†…å‘é€'æŠ¥åæµ·é¾Ÿæ±¤'å‚åŠ æ¸¸æˆ\n"
        "â° æŠ¥åæ—¶é—´ï¼š300ç§’"
    )
    
    # 60ç§’åè‡ªåŠ¨ç»“æŸæŠ¥å
    await asyncio.sleep(300)
    if game.state == GameState.REGISTERING:
        await auto_end_registration(bot, group_id)

@register_game.handle()
async def handle_register(bot: Bot, event: GroupMessageEvent):
    """å¤„ç†æŠ¥å"""
    group_id = str(event.group_id)
    user_id = str(event.user_id)
    game = get_game(group_id)
    
    if game.state != GameState.REGISTERING:
        return
    
    if user_id in game.players:
        await register_game.send("ä½ å·²ç»æŠ¥åäº†ï¼")
        return
    
    # è·å–ç”¨æˆ·æ˜µç§°
    try:
        user_info = await bot.get_group_member_info(group_id=int(group_id), user_id=int(user_id))
        nickname = user_info.get('card') or user_info.get('nickname', f'ç”¨æˆ·{user_id}')
    except:
        nickname = f'ç”¨æˆ·{user_id}'
    
    game.players[user_id] = Player(user_id=user_id, nickname=nickname)
    
    await register_game.send(f"âœ… {nickname} æŠ¥åæˆåŠŸï¼å½“å‰æŠ¥åäººæ•°ï¼š{len(game.players)}")

@end_registration.handle()
async def handle_end_registration(bot: Bot, event: GroupMessageEvent):
    """æ‰‹åŠ¨ç»“æŸæŠ¥å"""
    group_id = str(event.group_id)
    await auto_end_registration(bot, group_id)

async def auto_end_registration(bot: Bot, group_id: str):
    """è‡ªåŠ¨ç»“æŸæŠ¥å"""
    game = get_game(group_id)
    
    if game.state != GameState.REGISTERING:
        return
    
    if len(game.players) < 2:
        await bot.send_group_msg(
            group_id=int(group_id),
            message="æŠ¥åäººæ•°ä¸è¶³ï¼ˆè‡³å°‘éœ€è¦2äººï¼‰ï¼Œæ¸¸æˆå–æ¶ˆã€‚"
        )
        game.reset()
        return
    
    game.state = GameState.SELECTING_HOST
    game.host_selection_end_time = time.time() + 30  # 30ç§’é€‰æ‹©ä¸»æŒäººæ—¶é—´
    
    player_list = "\n".join([f"{i+1}. {player.nickname}" for i, player in enumerate(game.players.values())])
    
    await bot.send_group_msg(
        group_id=int(group_id),
        message=f"ğŸ“‹ æŠ¥åç»“æŸï¼å‚ä¸ç©å®¶ï¼š\n{player_list}\n\n"
                f"ğŸ¯ ç°åœ¨å¼€å§‹é€‰æ‹©ä¸»æŒäºº\n"
                f"ğŸ’¡ å‘é€'ç«é€‰ä¸»æŒäºº'å‚ä¸ç«é€‰\n"
                f"â° 30ç§’åå°†ä»ç«é€‰è€…ä¸­éšæœºé€‰æ‹©ï¼ˆæ— ç«é€‰è€…åˆ™ä»æ‰€æœ‰ç©å®¶ä¸­éšæœºé€‰æ‹©ï¼‰"
    )
    
    # 30ç§’åè‡ªåŠ¨é€‰æ‹©ä¸»æŒäºº
    await asyncio.sleep(30)
    if game.state == GameState.SELECTING_HOST:
        await auto_select_host(bot, group_id)

@run_for_host.handle()
async def handle_run_for_host(bot: Bot, event: GroupMessageEvent):
    """ç«é€‰ä¸»æŒäºº"""
    group_id = str(event.group_id)
    user_id = str(event.user_id)
    game = get_game(group_id)
    
    if game.state != GameState.SELECTING_HOST:
        return
    
    if user_id not in game.players:
        await run_for_host.send("ä½ è¿˜æ²¡æœ‰æŠ¥åå‚åŠ æ¸¸æˆï¼")
        return
    
    if user_id in game.host_candidates:
        await run_for_host.send("ä½ å·²ç»ç«é€‰è¿‡äº†ï¼")
        return
    
    game.host_candidates.add(user_id)
    player = game.players[user_id]
    
    await run_for_host.send(f"ğŸ¯ {player.nickname} ç«é€‰ä¸»æŒäººï¼å½“å‰ç«é€‰äººæ•°ï¼š{len(game.host_candidates)}")

async def auto_select_host(bot: Bot, group_id: str):
    """è‡ªåŠ¨é€‰æ‹©ä¸»æŒäºº"""
    game = get_game(group_id)
    
    if game.state != GameState.SELECTING_HOST:
        return
    
    # ä»ç«é€‰è€…ä¸­é€‰æ‹©ï¼Œå¦‚æœæ²¡æœ‰ç«é€‰è€…åˆ™ä»æ‰€æœ‰ç©å®¶ä¸­é€‰æ‹©
    candidates = list(game.host_candidates) if game.host_candidates else list(game.players.keys())
    
    if not candidates:
        await bot.send_group_msg(
            group_id=int(group_id),
            message="æ²¡æœ‰å¯é€‰çš„ä¸»æŒäººï¼Œæ¸¸æˆå–æ¶ˆã€‚"
        )
        game.reset()
        return
    
    # éšæœºé€‰æ‹©ä¸»æŒäºº
    game.host_id = random.choice(candidates)
    host = game.players[game.host_id]
    host.is_host = True
    
    # éšæœºé€‰æ‹©é¢˜ç›®
    game.current_story = random.choice(STORIES)
    
    # å‘é€é¢˜ç›®ç»™ä¸»æŒäºº
    try:
        await bot.send_private_msg(
            user_id=int(game.host_id),
            message=f"ğŸ¯ ä½ è¢«é€‰ä¸ºä¸»æŒäººï¼\n\n"
                   f"ğŸ“– é¢˜ç›®ï¼š{game.current_story.title}\n"
                   f"ğŸ“ æè¿°ï¼š{game.current_story.description}\n\n"
                   f"ğŸ” çœŸç›¸ï¼š{game.current_story.truth}\n\n"
                   f"ğŸ”‘ å…³é”®è¯ï¼š{', '.join(game.current_story.keywords)}\n\n"
                   f"ğŸ’¡ ä½ æœ‰{game.max_hints}æ¬¡æç¤ºæœºä¼šï¼Œè¶…è¿‡åæ¯æ¬¡æç¤ºæ‰£{game.hint_penalty}åˆ†\n"
                   f"ğŸ† åŸºç¡€åˆ†æ•°ï¼š{game.host_base_score}åˆ†"
        )
    except:
        await bot.send_group_msg(
            group_id=int(group_id),
            message=f"æ— æ³•ç§èŠä¸»æŒäºº {host.nickname}ï¼Œè¯·ç¡®ä¿æœºå™¨äººå¯ä»¥ç§èŠä½ ã€‚æ¸¸æˆå–æ¶ˆã€‚"
        )
        game.reset()
        return
    
    # åœ¨ç¾¤é‡Œå…¬å¸ƒä¸»æŒäººå’Œé¢˜ç›®
    game.state = GameState.TOPIC_CONFIRMATION
    game.topic_confirmation_end_time = time.time() + 30  # 30ç§’ç¡®è®¤æ—¶é—´
    
    await bot.send_group_msg(
        group_id=int(group_id),
        message=f"ğŸ¯ ä¸»æŒäººï¼š{host.nickname}\n\n"
               f"ğŸ“– é¢˜ç›®ï¼š{game.current_story.title}\n"
               f"ğŸ“ {game.current_story.description}\n\n"
               f"â“ æ˜¯å¦æ¢é¢˜ï¼Ÿ\n"
               f"ğŸ’¡ å‘é€'æ¢é¢˜'æ›´æ¢é¢˜ç›®ï¼Œå‘é€'ä¸æ¢'å¼€å§‹æ¸¸æˆ\n"
               f"â° 30ç§’åè‡ªåŠ¨å¼€å§‹æ¸¸æˆ"
    )
    
    # 30ç§’åè‡ªåŠ¨å¼€å§‹æ¸¸æˆ
    await asyncio.sleep(30)
    if game.state == GameState.TOPIC_CONFIRMATION:
        await start_playing(bot, group_id)

@change_topic.handle()
async def handle_change_topic(bot: Bot, event: GroupMessageEvent):
    """æ¢é¢˜"""
    group_id = str(event.group_id)
    game = get_game(group_id)
    
    if game.state != GameState.TOPIC_CONFIRMATION:
        return
    
    # é‡æ–°é€‰æ‹©é¢˜ç›®
    game.current_story = random.choice(STORIES)
    
    # å‘é€æ–°é¢˜ç›®ç»™ä¸»æŒäºº
    try:
        await bot.send_private_msg(
            user_id=int(game.host_id),
            message=f"ğŸ”„ é¢˜ç›®å·²æ›´æ¢ï¼\n\n"
                   f"ğŸ“– æ–°é¢˜ç›®ï¼š{game.current_story.title}\n"
                   f"ğŸ“ æè¿°ï¼š{game.current_story.description}\n\n"
                   f"ğŸ” çœŸç›¸ï¼š{game.current_story.truth}\n\n"
                   f"ğŸ”‘ å…³é”®è¯ï¼š{', '.join(game.current_story.keywords)}"
        )
    except:
        pass
    
    # åœ¨ç¾¤é‡Œå…¬å¸ƒæ–°é¢˜ç›®
    await change_topic.send(
        f"ğŸ”„ é¢˜ç›®å·²æ›´æ¢ï¼\n\n"
        f"ğŸ“– æ–°é¢˜ç›®ï¼š{game.current_story.title}\n"
        f"ğŸ“ {game.current_story.description}\n\n"
        f"â“ æ˜¯å¦å†æ¬¡æ¢é¢˜ï¼Ÿ\n"
        f"ğŸ’¡ å‘é€'æ¢é¢˜'ç»§ç»­æ›´æ¢ï¼Œå‘é€'ä¸æ¢'å¼€å§‹æ¸¸æˆ"
    )

@keep_topic.handle()
async def handle_keep_topic(bot: Bot, event: GroupMessageEvent):
    """ä¿æŒé¢˜ç›®ï¼Œå¼€å§‹æ¸¸æˆ"""
    group_id = str(event.group_id)
    await start_playing(bot, group_id)

async def start_playing(bot: Bot, group_id: str):
    """å¼€å§‹æ¸¸æˆ"""
    game = get_game(group_id)
    
    if game.state != GameState.TOPIC_CONFIRMATION:
        return
    
    game.state = GameState.PLAYING
    game.game_start_time = time.time()
    
    host = game.players[game.host_id]
    player_list = [p.nickname for p in game.players.values() if not p.is_host]
    
    await bot.send_group_msg(
        group_id=int(group_id),
        message=f"ğŸ® æ¸¸æˆå¼€å§‹ï¼\n\n"
               f"ğŸ¯ ä¸»æŒäººï¼š{host.nickname}\n"
               f"ğŸ‘¥ ç©å®¶ï¼š{', '.join(player_list)}\n\n"
               f"ğŸ“– é¢˜ç›®ï¼š{game.current_story.title}\n"
               f"ğŸ“ {game.current_story.description}\n\n"
               f"ğŸ’¡ è§„åˆ™è¯´æ˜ï¼š\n"
               f"â€¢ ç©å®¶å¯ä»¥æé—®ï¼Œä¸»æŒäººå›ç­”æ˜¯/å¦\n"
               f"â€¢ ç›´æ¥è¯´å‡ºç­”æ¡ˆå¯è·å¾—åˆ†æ•°\n"
               f"â€¢ ä¸»æŒäººå¯å‘é€'æç¤º'ç»™å‡ºæç¤ºï¼ˆé™{game.max_hints}æ¬¡ï¼‰\n"
               f"â€¢ å‘é€'ç»“æŸæ¸¸æˆ'ç»“æŸå½“å‰æ¸¸æˆ\n\n"
               f"ğŸ† å¼€å§‹æ¨ç†å§ï¼"
    )

@hint_command.handle()
async def handle_hint(bot: Bot, event: GroupMessageEvent):
    """ä¸»æŒäººç»™å‡ºæç¤º"""
    group_id = str(event.group_id)
    user_id = str(event.user_id)
    game = get_game(group_id)
    
    if game.state != GameState.PLAYING:
        return
    
    if user_id != game.host_id:
        await hint_command.send("åªæœ‰ä¸»æŒäººå¯ä»¥ç»™å‡ºæç¤ºï¼")
        return
    
    game.host_hints_used += 1
    
    # æ ¹æ®æç¤ºæ¬¡æ•°ç»™å‡ºä¸åŒçš„æç¤º
    hints = [
        f"ğŸ’¡ æç¤º1ï¼šæ³¨æ„å…³é”®è¯ '{random.choice(game.current_story.keywords[:2])}'\n",
        f"ğŸ’¡ æç¤º2ï¼šè¿™ä¸ªæ•…äº‹çš„å…³é”®åœ¨äº '{random.choice(game.current_story.keywords[2:4])}'\n",
        f"ğŸ’¡ æç¤º3ï¼šç­”æ¡ˆä¸ '{random.choice(game.current_story.keywords[-2:])}' æœ‰å…³\n"
    ]
    
    hint_text = ""
    if game.host_hints_used <= len(hints):
        hint_text = hints[game.host_hints_used - 1]
    else:
        hint_text = f"ğŸ’¡ é¢å¤–æç¤ºï¼š{random.choice(game.current_story.keywords)}\n"
    
    penalty_text = ""
    if game.host_hints_used > game.max_hints:
        penalty_text = f"âš ï¸ è¶…å‡ºå…è´¹æç¤ºæ¬¡æ•°ï¼Œä¸»æŒäººæ‰£{game.hint_penalty}åˆ†\n"
    
    await hint_command.send(
        f"{hint_text}"
        f"{penalty_text}"
        f"ğŸ“Š å·²ä½¿ç”¨æç¤ºï¼š{game.host_hints_used}æ¬¡"
    )

@end_game.handle()
async def handle_end_game(bot: Bot, event: GroupMessageEvent):
    """ç»“æŸæ¸¸æˆ"""
    group_id = str(event.group_id)
    user_id = str(event.user_id)
    game = get_game(group_id)
    
    if game.state not in [GameState.PLAYING, GameState.TOPIC_CONFIRMATION]:
        await end_game.send("å½“å‰æ²¡æœ‰è¿›è¡Œä¸­çš„æ¸¸æˆï¼")
        return
    
    # åªæœ‰ä¸»æŒäººæˆ–ç®¡ç†å‘˜å¯ä»¥ç»“æŸæ¸¸æˆ
    if user_id != game.host_id:
        try:
            member_info = await bot.get_group_member_info(group_id=int(group_id), user_id=int(user_id))
            if member_info.get('role') not in ['admin', 'owner']:
                await end_game.send("åªæœ‰ä¸»æŒäººæˆ–ç®¡ç†å‘˜å¯ä»¥ç»“æŸæ¸¸æˆï¼")
                return
        except:
            await end_game.send("åªæœ‰ä¸»æŒäººæˆ–ç®¡ç†å‘˜å¯ä»¥ç»“æŸæ¸¸æˆï¼")
            return
    
    await finish_game(bot, group_id, "æ¸¸æˆè¢«æ‰‹åŠ¨ç»“æŸ")

@status_command.handle()
async def handle_status(bot: Bot, event: GroupMessageEvent):
    """æŸ¥çœ‹æ¸¸æˆçŠ¶æ€"""
    group_id = str(event.group_id)
    game = get_game(group_id)
    
    if game.state == GameState.IDLE:
        await status_command.send("å½“å‰æ²¡æœ‰è¿›è¡Œä¸­çš„æ¸¸æˆã€‚å‘é€'å¼€å§‹æµ·é¾Ÿæ±¤'å¼€å§‹æ–°æ¸¸æˆï¼")
        return
    
    status_text = f"ğŸ® æ¸¸æˆçŠ¶æ€ï¼š{game.state.value}\n\n"
    
    if game.state == GameState.REGISTERING:
        remaining_time = max(0, int(game.registration_end_time - time.time()))
        status_text += f"ğŸ“ æŠ¥åé˜¶æ®µ\n"
        status_text += f"ğŸ‘¥ å·²æŠ¥åï¼š{len(game.players)}äºº\n"
        status_text += f"â° å‰©ä½™æ—¶é—´ï¼š{remaining_time}ç§’\n"
        if game.players:
            player_list = "\n".join([f"  â€¢ {player.nickname}" for player in game.players.values()])
            status_text += f"\næŠ¥åç©å®¶ï¼š\n{player_list}"
    
    elif game.state == GameState.SELECTING_HOST:
        remaining_time = max(0, int(game.host_selection_end_time - time.time()))
        status_text += f"ğŸ¯ é€‰æ‹©ä¸»æŒäººé˜¶æ®µ\n"
        status_text += f"ğŸ‘‘ ç«é€‰äººæ•°ï¼š{len(game.host_candidates)}äºº\n"
        status_text += f"â° å‰©ä½™æ—¶é—´ï¼š{remaining_time}ç§’\n"
        if game.host_candidates:
            candidate_list = "\n".join([f"  â€¢ {game.players[uid].nickname}" for uid in game.host_candidates])
            status_text += f"\nç«é€‰è€…ï¼š\n{candidate_list}"
    
    elif game.state in [GameState.TOPIC_CONFIRMATION, GameState.PLAYING]:
        if game.host_id:
            host = game.players[game.host_id]
            status_text += f"ğŸ¯ ä¸»æŒäººï¼š{host.nickname}\n"
        
        if game.current_story:
            status_text += f"ğŸ“– é¢˜ç›®ï¼š{game.current_story.title}\n"
        
        if game.state == GameState.PLAYING and game.game_start_time:
            game_duration = int(time.time() - game.game_start_time)
            status_text += f"â° æ¸¸æˆæ—¶é•¿ï¼š{game_duration // 60}åˆ†{game_duration % 60}ç§’\n"
            status_text += f"ğŸ’¡ å·²ç”¨æç¤ºï¼š{game.host_hints_used}æ¬¡\n\n"
            
            # æ˜¾ç¤ºç©å®¶ç§¯åˆ†
            status_text += "ğŸ“Š å½“å‰ç§¯åˆ†ï¼š\n"
            for player in game.players.values():
                if player.is_host:
                    current_score = game.host_base_score - max(0, game.host_hints_used - game.max_hints) * game.hint_penalty
                    status_text += f"  ğŸ‘‘ {player.nickname}ï¼š{current_score}åˆ†ï¼ˆä¸»æŒäººï¼‰\n"
                else:
                    status_text += f"  ğŸ‘¤ {player.nickname}ï¼š{player.score}åˆ†\n"
    
    await status_command.send(status_text)

@message_handler.handle()
async def handle_message(bot: Bot, event: GroupMessageEvent):
    """å¤„ç†æ¸¸æˆä¸­çš„æ¶ˆæ¯"""
    group_id = str(event.group_id)
    user_id = str(event.user_id)
    message = str(event.get_message()).strip()
    
    game = get_game(group_id)
    
    # åªåœ¨æ¸¸æˆè¿›è¡Œä¸­å¤„ç†æ¶ˆæ¯
    if game.state != GameState.PLAYING:
        return
    
    # å¿½ç•¥æœºå™¨äººè‡ªå·±çš„æ¶ˆæ¯å’Œè¿‡çŸ­çš„æ¶ˆæ¯
    if user_id == str(bot.self_id) or len(message) < 2:
        return
    
    # å¿½ç•¥å‘½ä»¤æ¶ˆæ¯
    if message.startswith(('å¼€å§‹', 'æŠ¥å', 'ç»“æŸ', 'ç«é€‰', 'æ¢é¢˜', 'ä¸æ¢', 'æç¤º', 'çŠ¶æ€')):
        return
    
    # æ£€æŸ¥æ˜¯å¦æ˜¯å‚ä¸æ¸¸æˆçš„ç©å®¶
    if user_id not in game.players:
        return
    
    player = game.players[user_id]
    
    # ä¸»æŒäººçš„æ¶ˆæ¯ä¸å‚ä¸ç­”æ¡ˆåˆ¤æ–­
    if player.is_host:
        return
    
    # æ£€æŸ¥æ˜¯å¦çŒœä¸­ç­”æ¡ˆ
    if is_truth_match(message, game.current_story):
        await handle_correct_answer(bot, group_id, user_id, message)
    else:
        # è®°å½•ç©å®¶æé—®
        player.questions_asked += 1
        
        # æ£€æŸ¥æ˜¯å¦åŒ…å«å…³é”®è¯ï¼ˆç»™äºˆå°åˆ†å¥–åŠ±ï¼‰
        for keyword in game.current_story.keywords:
            if keyword.lower() in message.lower() and player.score < game.max_player_score:
                player.score += 1
                await bot.send_group_msg(
                    group_id=int(group_id),
                    message=f"ğŸ’¡ {player.nickname} æåˆ°äº†å…³é”®ä¿¡æ¯ï¼Œè·å¾—1åˆ†ï¼å½“å‰ç§¯åˆ†ï¼š{player.score}"
                )
                break

async def handle_correct_answer(bot: Bot, group_id: str, user_id: str, answer: str):
    """å¤„ç†æ­£ç¡®ç­”æ¡ˆ"""
    game = get_game(group_id)
    player = game.players[user_id]
    
    # è®¡ç®—æ¸¸æˆæ—¶é•¿
    game_duration = time.time() - game.game_start_time
    time_bonus = calculate_time_bonus(game_duration)
    
    # ç»™äºˆç©å®¶åˆ†æ•°
    player.score = min(game.max_player_score, player.score + 5 + time_bonus)
    
    await finish_game(bot, group_id, f"{player.nickname} çŒœä¸­äº†ç­”æ¡ˆï¼", user_id)

async def finish_game(bot: Bot, group_id: str, reason: str, winner_id: Optional[str] = None):
    """ç»“æŸæ¸¸æˆå¹¶æ˜¾ç¤ºç»“æœ"""
    game = get_game(group_id)
    
    if game.state not in [GameState.PLAYING, GameState.TOPIC_CONFIRMATION]:
        return
    
    game.state = GameState.FINISHED
    
    # è®¡ç®—æœ€ç»ˆåˆ†æ•°
    final_scores = []
    
    for player in game.players.values():
        if player.is_host:
            # ä¸»æŒäººåˆ†æ•°è®¡ç®—
            final_score = game.host_base_score - max(0, game.host_hints_used - game.max_hints) * game.hint_penalty
            if game.game_start_time:
                game_duration = time.time() - game.game_start_time
                time_bonus = calculate_time_bonus(game_duration)
                final_score += time_bonus
        else:
            final_score = player.score
            if winner_id and player.user_id == winner_id and game.game_start_time:
                game_duration = time.time() - game.game_start_time
                time_bonus = calculate_time_bonus(game_duration)
                final_score += time_bonus
        
        final_scores.append((player.nickname, final_score, player.is_host))
    
    # æŒ‰åˆ†æ•°æ’åº
    final_scores.sort(key=lambda x: x[1], reverse=True)
    
    # ç”Ÿæˆç»“æœæ¶ˆæ¯
    result_text = f"ğŸ® æ¸¸æˆç»“æŸï¼\n\n"
    result_text += f"ğŸ“ ç»“æŸåŸå› ï¼š{reason}\n\n"
    
    if game.current_story:
        result_text += f"ğŸ“– é¢˜ç›®ï¼š{game.current_story.title}\n"
        result_text += f"ğŸ” ç­”æ¡ˆï¼š{game.current_story.truth}\n\n"
    
    if game.game_start_time:
        total_duration = int(time.time() - game.game_start_time)
        result_text += f"â° æ¸¸æˆæ—¶é•¿ï¼š{total_duration // 60}åˆ†{total_duration % 60}ç§’\n\n"
    
    result_text += "ğŸ† æœ€ç»ˆæ’åï¼š\n"
    for i, (nickname, score, is_host) in enumerate(final_scores):
        role = "ğŸ‘‘" if is_host else "ğŸ‘¤"
        medal = ["ğŸ¥‡", "ğŸ¥ˆ", "ğŸ¥‰"][i] if i < 3 else "ğŸ…"
        result_text += f"{medal} {role} {nickname}ï¼š{score}åˆ†\n"
    
    await bot.send_group_msg(group_id=int(group_id), message=result_text)
    
    # é‡ç½®æ¸¸æˆ
    game.reset()